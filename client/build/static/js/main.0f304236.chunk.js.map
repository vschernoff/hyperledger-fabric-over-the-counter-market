{"version":3,"sources":["_constants/alert.constants.js","_constants/config.constants.js","_constants/common.constants.js","_constants/user.constants.js","_constants/deal.constants.js","_constants/order.constants.js","_constants/org.constants.js","_constants/modal.constants.js","_helpers/formatter.js","_helpers/history.js","_helpers/user-store.js","_reducers/authentication.reducer.js","_reducers/index.js","_services/config.service.js","_reducers/alert.reducer.js","_reducers/loading.reducer.js","_reducers/deals.reducer.js","_reducers/config.reducer.js","_reducers/orders.reducer.js","_reducers/modals.reducer.js","_helpers/store.js","_services/api.service.js","_services/auth.service.js","_helpers/request.js","_actions/alert.actions.js","_services/user.service.js","_services/deal.service.js","_services/bid.service.js","_actions/config.actions.js","_actions/modal.actions.js","_actions/user.actions.js","_actions/deal.actions.js","_actions/order.actions.js","Layout/Footer.jsx","Layout/Header.jsx","_components/AddOrder.jsx","_components/Chart.jsx","_components/DealsTable.jsx","_components/HistoryTable.jsx","_components/Modal.jsx","_components/Notification.jsx","_components/OrdersTable.jsx","_components/secondary/CheckBox.jsx","_components/FilterContainer.jsx","Layout/Main.jsx","_pages/HomePage.jsx","_pages/LoginPage.jsx","_pages/SummaryPage.jsx","_pages/DealsPage.jsx","App/routes.js","App/App.jsx","index.js"],"names":["alertConstants","SUCCESS","ERROR","CLEAR","configConstants","FAILURE","commonConstants","userConstants","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","stages","dealConstants","forEach","action","stage","key","concat","toUpperCase","orderConstants","GET_ALL_REQUEST","GET_ALL_SUCCESS","GET_ALL_FAILURE","ADD_REQUEST","ADD_SUCCESS","ADD_FAILURE","EDIT_REQUEST","EDIT_SUCCESS","EDIT_FAILURE","ACCEPT_REQUEST","ACCEPT_SUCCESS","ACCEPT_FAILURE","CANCEL_REQUEST","CANCEL_SUCCESS","CANCEL_FAILURE","HISTORY_REQUEST","HISTORY_SUCCESS","HISTORY_FAILURE","orgConstants","a","b","c","d","e","f","g","h","modalConstants","SHOW","HIDE","SET_DATA","modalIds","formatter","rate","val","Number","toFixed","number","toLocaleString","date","toLocaleDateString","time","toLocaleTimeString","org","orgKey","datetime","history","createHashHistory","userKey","tokenKey","set","user","localStorage","setItem","JSON","stringify","token","get","data","getItem","parse","clear","removeItem","userStore","initialState","loggedIn","push","reqPromise","rootReducer","combineReducers","authentication","state","arguments","length","undefined","type","loggingIn","alert","message","loading","shadowMode","startMatches","exec","endMatches","deals","GETALL_REQUEST","Object","objectSpread","adding","GETALL_SUCCESS","today","Date","setHours","setMinutes","setSeconds","setMilliseconds","result","filter","r","value","timestamp","getTime","items","GETALL_FAILURE","error","config","orders","REJECT_REQUEST","REJECT_SUCCESS","REJECT_FAILURE","modals","modalId","rest","objectWithoutProperties","defineProperty","show","loggerMiddleware","createLogger","store","createStore","applyMiddleware","thunkMiddleware","configService","load","isFetching","sendRequest","method","then","res","localConfig","update","Promise","all","loadChannels","loadChaincodes","getPeers","peers","orgConfig","keys","k","startsWith","getChannels","getChaincodes","_extend","asyncFn","cfgKey","responseKey","resolve","promise","response","obj","name","_getPeer","query","channel","chaincode","fcn","args","params","peer","url","URL","window","location","origin","searchParams","append","pathname","search","invoke","functionName","map","arg","requestOptions","body","login","retry","username","orgName","authService","obtainToken","fetching","_callee","regenerator_default","wrap","_context","prev","next","reload","abrupt","catch","reject","stop","this","forwardRequestByError","401","timeout","fnc","bind","500","_parseMessage","_input$replace$split","replace","split","slicedToArray","_x","_sendRequest","apply","options","retryParams","_args","headers","updateHeaders","fetch","sent","ok","status","retryPromise","json","statusText","Error","attempt","resolveFn","rejectFn","setTimeout","authHeader","Authorization","headerObj","Content-Type","TIMEOUT","alertActions","success","dispatch","userService","logout","dealService","getAll","getByPeriod","getForCreatorByPeriod","ACTIONS","CHAINCODES","reference","CHANNELS","common","channels","chaincodes","apiService","_callee2","period","_context2","_callee3","_context3","bidService","add","edit","accept","cancel","bid","amount","id","_callee4","_context4","_callee5","_context5","configActions","failure","toString","modalActions","register","object","hide","setData","userActions","dealActions","product","request","products","GETBYPERIOD_REQUEST","GETBYPERIOD_SUCCESS","GETBYPERIOD_FAILURE","GETFORCREATORBYPERIOD_REQUEST","GETFORCREATORBYPERIOD_SUCCESS","GETFORCREATORBYPERIOD_FAILURE","orderActions","requests","comment","_","req","Footer","_React$Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","now","getFullYear","react_default","createElement","className","href","target","rel","React","Component","Header","props","src","alt","NavLink","exact","to","connected","connect","rateOptions","label","AddOrder","_this","call","created","submitted","_fill","handleChange","assertThisInitialized","handleSubmit","changeType","changeRate","setSubmitFn","amountInput","focus","initData","newV","setState","event","_event$target","preventDefault","_this2","_this$state","onSubmit","htmlFor","ref","input","onChange","Creatable_default","isClearable","placeholder","components","Control","react_select_esm","assign","es_default","checkedChildren","unCheckedChildren","DEFAULT_TICKS","LineBarAreaComposedChart","_this$props","formatXAxis","lineType","ts","sort","es6","width","height","margin","top","right","bottom","left","stroke","dataKey","yAxisId","tickFormatter","unit","interval","ticks","orientation","barSize","fill","DealsTable","refreshData","columns","columnsDefault","accessor","rec","lender","borrower","react_table_es","defaultPageSize","minWidth","filterable","defaultSorted","desc","customStyles","content","cursor","background-color","overlay","z-index","Modal","handleCloseModal","fn","_this$props2","_this$props3","children","_this$props3$footer","footer","_this$props3$submitTe","submitText","modalProps","lib_default","isOpen","style","tabIndex","role","display","large","title","aria-label","onClick","aria-hidden","Children","child","cloneElement","modal","Notification","OrdersTable","makeDeal","cancelBid","i","creator","sortMethod","parseFloat","Cell","row","record","original","open","getTrProps","rowInfo","font-weight","CheckBox","checked","DatePicker","FilterContainer","propertyFilterContainer","propertyFilterContainerDefault","nameProp","moment","properties","instrumentsNames","states","instruments","element","parameters","isMoment","format","_this3","prepareSubmit","Instrument","index","proporties","Main","route","component","Notification_connected","HomePage","timerId","setInterval","clearInterval","prevProps","Modal_connected","AddOrder_connected","OrdersTable_connected","DealsTable_connected","Chart_connected","LoginPage","_this$setState","_e$target","_this2$state","SummaryPage","closingBalance","reduce","acc","netted","clearingColumns","withBraces","interestColumns","showPagination","bids","parametersMap","DealsPage","FilterContainer_connected","publicRoutes","path","privateRoutes","App","listen","HashRouter","Switch","Route","render","react_spinners","Main_connected","Footer_Footer","connectedApp","ReactDOM","es","document","getElementById"],"mappings":"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","file":"static/js/main.0f304236.chunk.js","sourcesContent":["export const alertConstants = {\n  SUCCESS: 'ALERT_SUCCESS',\n  ERROR: 'ALERT_ERROR',\n  CLEAR: 'ALERT_CLEAR'\n};\n","export const configConstants = {\n  SUCCESS: 'CONFIG_SUCCESS',\n  FAILURE: 'CONFIG_FAILURE'\n};","export const commonConstants = {\n  CURRENCY_SIGN: '$ MLN',\n  RATE_SIGN: '%'\n};","export const userConstants = {\n  LOGIN_REQUEST: 'USERS_LOGIN_REQUEST',\n  LOGIN_SUCCESS: 'USERS_LOGIN_SUCCESS',\n  LOGIN_FAILURE: 'USERS_LOGIN_FAILURE',\n\n  LOGOUT: 'USERS_LOGOUT'\n};\n","const stages = ['request', 'success', 'failure'];\nconst actions = ['login', 'getall', 'add', 'edit', 'history', 'getbyperiod', 'getforcreatorbyperiod'];\n\nexport const dealConstants = {};\nactions.forEach(action => {\n  stages.forEach(stage => {\n    const key = `${action.toUpperCase()}_${stage.toUpperCase()}`;\n    dealConstants[key] = 'DEAL_' + key;\n  });\n});\n","export const orderConstants = {\n  GET_ALL_REQUEST: 'ORDERS_GET_ALL_REQUEST',\n  GET_ALL_SUCCESS: 'ORDERS_GET_ALL_SUCCESS',\n  GET_ALL_FAILURE: 'ORDERS_GET_ALL_FAILURE',\n\n  ADD_REQUEST: 'ORDERS_ADD_REQUEST',\n  ADD_SUCCESS: 'ORDERS_ADD_SUCCESS',\n  ADD_FAILURE: 'ORDERS_ADD_FAILURE',\n\n  EDIT_REQUEST: 'ORDERS_EDIT_REQUEST',\n  EDIT_SUCCESS: 'ORDERS_EDIT_SUCCESS',\n  EDIT_FAILURE: 'ORDERS_EDIT_FAILURE',\n\n  ACCEPT_REQUEST: 'ORDERS_ACCEPT_REQUEST',\n  ACCEPT_SUCCESS: 'ORDERS_ACCEPT_SUCCESS',\n  ACCEPT_FAILURE: 'ORDERS_ACCEPT_FAILURE',\n\n  CANCEL_REQUEST: 'ORDERS_CANCEL_REQUEST',\n  CANCEL_SUCCESS: 'ORDERS_CANCEL_SUCCESS',\n  CANCEL_FAILURE: 'ORDERS_CANCEL_FAILURE',\n\n  HISTORY_REQUEST: 'ORDERS_HISTORY_REQUEST',\n  HISTORY_SUCCESS: 'ORDERS_HISTORY_SUCCESS',\n  HISTORY_FAILURE: 'ORDERS_HISTORY_FAILURE',\n};\n","export const orgConstants = {\n  a: 'SWIZ',\n  b: 'TICI',\n  c: 'NAMU',\n  d: 'HBSZ',\n  e: 'NYBO',\n  f: 'DUCE',\n  g: 'SWIZ',\n  h: 'SBRE'\n};\n","export const modalConstants = {\n  SHOW: 'MODAL_SHOW',\n  HIDE: 'MODAL_HIDE',\n  SET_DATA: 'MODAL_SET_DATA'\n};\n\nexport const modalIds = {\n  addOrder: 'addOrder',\n  editOrder: 'editOrder'\n};","import {orgConstants} from '../_constants';\n\nexport const formatter = {\n  rate: val => Number(val).toFixed(3),\n  number: val => Number(val).toLocaleString(),\n  date: date => date.toLocaleDateString(),\n  time: date => date.toLocaleTimeString(),\n  org: orgKey => orgConstants[orgKey] || '###',\n  datetime: date => date.toLocaleString()\n};\n","import {createHashHistory} from 'history';\n\nexport const history = createHashHistory();","const userKey = 'user';\nconst tokenKey = 'token';\n\nexport function set(user) {\n  localStorage.setItem(userKey, JSON.stringify(user));\n  localStorage.setItem(tokenKey, user.token);\n}\n\nexport function get() {\n  const data = localStorage.getItem(userKey);\n  if (data) {\n    return JSON.parse(data);\n  }\n  return null;\n}\n\nexport function clear() {\n  localStorage.removeItem(userKey);\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getToken() {\n  return localStorage.getItem(tokenKey);\n}","import {userConstants} from '../_constants';\nimport {history} from '../_helpers';\nimport * as userStore from '../_helpers/user-store';\n\nlet user = userStore.get();\nconst initialState = user ? {loggedIn: true, user} : {};\nif (!user) {\n  history.push('./login');\n}\n\nexport function authentication(state = initialState, action) {\n  switch (action.type) {\n    case userConstants.LOGIN_REQUEST:\n      return {\n        loggingIn: true,\n        user: action.user\n      };\n    case userConstants.LOGIN_SUCCESS:\n      return {\n        loggedIn: true,\n        user: action.user\n      };\n    case userConstants.LOGIN_FAILURE:\n      return {};\n    case userConstants.LOGOUT:\n      return {};\n    default:\n      return state\n  }\n}","import {combineReducers} from 'redux';\n\nimport {authentication} from './authentication.reducer';\nimport {alert} from './alert.reducer';\nimport {config} from './config.reducer';\nimport {loading} from './loading.reducer';\nimport {deals} from './deals.reducer';\nimport {orders} from './orders.reducer';\nimport {modals} from './modals.reducer';\n\nconst rootReducer = combineReducers({\n  authentication,\n  alert,\n  loading,\n  deals,\n  config,\n  orders,\n  modals\n});\n\nexport default rootReducer;","import {config, getChannels, getChaincodes} from './api.service';\n\nexport const configService = {\n  load,\n  get,\n  update,\n  getPeers,\n  getChannels: loadChannels,\n  getChaincodes: loadChaincodes\n};\n\nlet localConfig = {};\nlet isFetching = false;\nlet reqPromise;\n\nfunction get() {\n  return localConfig;\n}\n\nfunction load() {\n  if (isFetching) {\n    return reqPromise;\n  }\n  isFetching = true;\n\n  reqPromise = config()\n    .then(res => {\n      localConfig = res;\n      return localConfig;\n    });\n\n  return reqPromise;\n}\n\n// load secured information, like chaincodes, channels\nfunction update() {\n  return Promise.all([\n    loadChannels(),\n    loadChaincodes()\n  ]);\n}\n\nfunction _extend(asyncFn, cfgKey, responseKey) {\n  if (!localConfig[cfgKey]) {\n    if (asyncFn.promise) {\n      return asyncFn.promise;\n    }\n    asyncFn.promise = asyncFn()\n      .then(response => {\n        localConfig[cfgKey] = {};\n        response[responseKey].forEach(obj => {\n          localConfig[cfgKey][obj.name] = obj.name;\n        });\n\n        delete asyncFn.promise;\n        return localConfig[cfgKey];\n      });\n\n    return asyncFn.promise;\n  }\n\n  return Promise.resolve(localConfig[cfgKey]);\n}\n\nfunction loadChannels() {\n  return _extend(getChannels, 'channels', 'channels');\n}\n\nfunction loadChaincodes() {\n  return _extend(getChaincodes, 'chaincodes', 'chaincodes');\n}\n\nfunction getPeers() {\n  if (localConfig.peers) {\n    return localConfig.peers;\n  }\n  const orgConfig = localConfig['network-config'][localConfig.org];\n  localConfig.peers = Object.keys(orgConfig).filter(k => k.startsWith('peer'));\n  return localConfig.peers;\n}\n","import {alertConstants} from '../_constants';\n\nexport function alert(state = {}, action) {\n\n  switch (action.type) {\n    case alertConstants.SUCCESS:\n      return {\n        type: 'alert-success',\n        message: action.message\n      };\n    case alertConstants.ERROR:\n      return {\n        type: 'alert-danger',\n        message: action.message\n      };\n    case alertConstants.CLEAR:\n      return {};\n    default:\n      return state;\n  }\n}","export function loading(state = false, action) {\n  const { type, shadowMode } = action;\n\n  if (shadowMode) {\n    return false;\n  }\n  const startMatches = /(.*)_(REQUEST)/.exec(type);\n  const endMatches = /(.*)_(SUCCESS|FAILURE)/.exec(type);\n\n  if (!startMatches && !endMatches) return state;\n\n  return !!startMatches || !endMatches;\n}\n","import {dealConstants} from '../_constants';\n\nexport function deals(state = {}, action) {\n  switch (action.type) {\n    case dealConstants.GETALL_REQUEST:\n      return {...state, ...{\n        loading: true,\n        adding: undefined\n      }};\n    case dealConstants.GETALL_SUCCESS:\n      const today = new Date();\n      today.setHours(0);\n      today.setMinutes(0);\n      today.setSeconds(0);\n      today.setMilliseconds(0);\n      const result = action.deals && action.deals.result &&\n        action.deals.result.filter(r => r.value.timestamp * 1000 > today.getTime());\n\n      return {...state, ...{\n        items: result,\n        loading: false\n      }};\n    case dealConstants.GETALL_FAILURE:\n      return {...state, ...{\n        error: action.error,\n        loading: false\n      }};\n    case dealConstants.ADD_REQUEST:\n      return {...state, ...{\n        adding: true\n      }};\n    case dealConstants.ADD_SUCCESS:\n      return {...state, ...{\n        adding: false\n      }};\n    case dealConstants.ADD_FAILURE:\n      return {...state, ...{\n        error: action.error\n      }};\n    case dealConstants.EDIT_REQUEST:\n      return {...state, ...{\n        adding: true\n      }};\n    case dealConstants.EDIT_SUCCESS:\n      return {...state, ...{\n        adding: false\n      }};\n    case dealConstants.EDIT_FAILURE:\n      return {...state, ...{\n        error: action.error\n      }};\n    case dealConstants.HISTORY_REQUEST:\n      return {...state, ...{\n        loading: true\n      }};\n    case dealConstants.HISTORY_SUCCESS:\n      return {...state, ...{\n        history: {\n          //[action.product.key.name]: action.history.result\n        },\n        loading: false\n      }};\n    case dealConstants.HISTORY_FAILURE:\n      return {...state, ...{\n        error: action.error,\n        loading: false\n      }};\n\n    default:\n      return state;\n  }\n}","import {configConstants} from '../_constants';\n\nexport function config(state = null, action) {\n  switch (action.type) {\n    case configConstants.SUCCESS:\n      return action.config;\n    default:\n      return state\n  }\n}","import {orderConstants} from '../_constants';\n\nexport function orders(state = {}, action) {\n  switch (action.type) {\n    case orderConstants.GET_ALL_REQUEST:\n      return {...state, ...{\n        adding: undefined,\n        loading: true\n      }};\n    case orderConstants.GET_ALL_SUCCESS:\n      return {...state, ...{\n        items: action.orders.result,\n        loading: false\n      }};\n    case orderConstants.GET_ALL_FAILURE:\n      return {...state, ...{\n        error: action.error,\n        loading: false\n      }};\n    case orderConstants.ADD_REQUEST:\n      return {...state, ...{\n        adding: true\n      }};\n    case orderConstants.ADD_SUCCESS:\n      return {...state, ...{\n        adding: false\n      }};\n    case orderConstants.ADD_FAILURE:\n      return {...state, ...{\n        error: action.error\n      }};\n    case orderConstants.EDIT_REQUEST:\n      return {...state, ...{\n        adding: true\n      }};\n    case orderConstants.EDIT_SUCCESS:\n      return {...state, ...{\n        adding: false\n      }};\n    case orderConstants.EDIT_FAILURE:\n      return {...state, ...{\n        error: action.error\n      }};\n    case orderConstants.ACCEPT_REQUEST:\n      return {...state, ...{\n        loading: true\n      }};\n    case orderConstants.ACCEPT_SUCCESS:\n      return {...state, ...{\n        adding: false,\n        loading: false\n      }};\n    case orderConstants.ACCEPT_FAILURE:\n      return {...state, ...{\n        error: action.error,\n        loading: false\n      }};\n    case orderConstants.REJECT_REQUEST:\n      return {...state, ...{\n        loading: true\n      }};\n    case orderConstants.REJECT_SUCCESS:\n      return {...state, ...{\n        adding: false,\n        loading: false\n      }};\n    case orderConstants.REJECT_FAILURE:\n      return {...state, ...{\n        error: action.error,\n        loading: false\n      }};\n    case orderConstants.HISTORY_REQUEST:\n      return {...state, ...{\n        loading: true\n      }};\n    case orderConstants.HISTORY_SUCCESS:\n      return {...state, ...{\n        history: {\n          //[action.req.key.productKey]: action.history.result\n        },\n        loading: false\n      }};\n    case orderConstants.HISTORY_FAILURE:\n      return {...state, ...{\n        error: action.error,\n        loading: false\n      }};\n    default:\n      return state\n  }\n}","import {modalConstants} from '../_constants';\n\nexport function modals(state = {}, action) {\n  const {modalId, type, ...rest} = action;\n  switch (type) {\n    case modalConstants.SHOW:\n    case modalConstants.HIDE: {\n      return {\n        ...state,\n        ...{\n          [modalId]: {\n            ...state[modalId],\n            ...rest,\n            show: type === modalConstants.SHOW\n          }\n        }\n      }\n    }\n    case modalConstants.SET_DATA: {\n      return {\n        ...state,\n        ...{\n          [modalId]: {\n            ...state[modalId],\n            ...rest\n          }\n        }\n      }\n    }\n    default: return state;\n  }\n}","import {createStore, applyMiddleware} from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport {createLogger} from 'redux-logger';\nimport rootReducer from '../_reducers';\n\nconst loggerMiddleware = createLogger();\n\nexport const store = createStore(\n  rootReducer,\n  applyMiddleware(\n    thunkMiddleware,\n    loggerMiddleware\n  )\n);","import {sendRequest} from '../_helpers/request';\nimport {configService} from './config.service';\n\nfunction _getPeer() {\n  return configService.getPeers()[0];\n}\n\nexport function query(channel, chaincode, fcn, args = []) {\n  const requestOptions = {\n    method: 'GET'\n  };\n  args = JSON.stringify(args);\n  const {org} = configService.get();\n  const params = {\n    peer: `${org}/${_getPeer()}`,\n    fcn,\n    args\n  };\n\n  const url = new URL(`${window.location.origin}/channels/${channel}/chaincodes/${chaincode}`);\n  Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\n  return sendRequest(`${url.pathname}${url.search}`, requestOptions);\n}\n\nexport function invoke(channel, chaincode, functionName, args) {\n  const {org} = configService.get();\n  args = args.map(arg => arg + '');\n  const requestOptions = {\n    method: 'POST',\n    body: JSON.stringify({\n      peers: [`${org}/${_getPeer()}`],\n      fcn: functionName,\n      args\n    })\n  };\n\n  return sendRequest(`/channels/${channel}/chaincodes/${chaincode}`, requestOptions);\n}\n\nexport function login(user, retry = true) {\n  const requestOptions = {\n    method: 'POST',\n    body: JSON.stringify({username: user.name, orgName: user.org})\n  };\n\n  return sendRequest(`/users`, requestOptions, retry);\n}\n\nexport function getChannels() {\n  return sendRequest(`/channels?peer=${_getPeer()}`);\n}\n\nexport function getChaincodes() {\n  return sendRequest(`/chaincodes?peer=${_getPeer()}`);\n}\n\nexport function extendConfig() {\n  return configService.update();\n}\n\nexport function config() {\n  const requestOptions = {\n    method: 'GET'\n  };\n\n  return sendRequest(`/config`, requestOptions);\n}\n","import {set, get, clear} from '../_helpers';\nimport {login, extendConfig} from './api.service';\n\nexport const authService = {\n  obtainToken\n};\nlet fetching = false;\nlet promise;\nasync function obtainToken() {\n  const user = get();\n  if (!user) {\n    fetching = false;\n    clear();\n    window.location.reload(true);\n    return Promise.resolve();\n  }\n  if (fetching) {\n    return promise;\n  }\n  fetching = true;\n  promise = login(user, false)\n    .then(res => {\n      fetching = false;\n      if (res.token) {\n        user.token = res.token;\n        set(user);\n      }\n\n      return extendConfig()\n        .then(() => {\n          return user;\n        });\n    })\n    .catch(e => {\n      fetching = false;\n      return Promise.reject(e);\n    });\n\n  return promise;\n}\n","import {authService} from '../_services/auth.service';\nimport {getToken} from './user-store';\n\nconst forwardRequestByError = {\n  401: {\n    retry: 2,\n    timeout: 1000,\n    fnc: authService.obtainToken.bind(authService)\n  },\n  500: {\n    retry: 3,\n    timeout: 3000,\n    fnc: Promise.resolve.bind(Promise)\n  }\n};\n\nfunction _parseMessage(input = '') {\n  const [, detailedMsg] = input.replace(')', '').split('message: ');\n  return detailedMsg;\n}\n\nexport async function sendRequest(url, options = {}, retry = true) {\n  options.headers = updateHeaders(options.headers);\n\n  const response = await fetch(url, options);\n  if (!response.ok) {\n    const retryParams = forwardRequestByError[response.status];\n    if (retryParams && retry) {\n      await retryParams.fnc();\n      await retryPromise(url, options, retryParams.timeout, retryParams.retry);\n    } else {\n      const data = await response.json();\n      const error = (data && data.message && _parseMessage(data.message)) || response.statusText;\n      return Promise.reject(new Error(error));\n    }\n  }\n\n  return await response.json();\n}\n\nfunction retry(asyncFn, args, timeout, attempt, resolveFn, rejectFn, e) {\n  if (attempt < 0) {\n    return rejectFn(e);\n  }\n  return asyncFn.apply(this, args)\n    .then(resolveFn)\n    .catch(e => {\n      attempt--;\n      setTimeout(() => {\n        retry(asyncFn, args, timeout, attempt, resolveFn, rejectFn, e);\n      }, timeout);\n    });\n}\n\nconst retryPromise = (url, options, timeout, attempt) => {\n  return new Promise((resolve, reject) => {\n    retry(sendRequest, [url, options, false], timeout, attempt, resolve, reject)\n  });\n};\n\nfunction authHeader() {\n  let token = getToken();\n\n  if (token) {\n    return {'Authorization': 'Bearer ' + token};\n  } else {\n    return {};\n  }\n}\n\nfunction updateHeaders(headerObj = {}) {\n  return {...headerObj, ...authHeader(), ...{'Content-Type': 'application/json'}}\n}\n","import {alertConstants} from '../_constants';\n\nconst TIMEOUT = 5000;\nexport const alertActions = {\n  success,\n  error,\n  clear\n};\n\nfunction success(message) {\n  return dispatch => {\n    setTimeout(() => {dispatch(clear())}, TIMEOUT);\n    return dispatch({type: alertConstants.SUCCESS, message});\n  };\n}\n\nfunction error(message) {\n  return dispatch => {\n    setTimeout(() => {dispatch(clear())}, TIMEOUT);\n    return dispatch({type: alertConstants.ERROR, message});\n  };\n}\n\nfunction clear() {\n  return {type: alertConstants.CLEAR};\n}","import {authService} from './auth.service';\nimport {set, clear} from '../_helpers';\n\nexport const userService = {\n  login,\n  logout\n};\n\nfunction login(username, orgName) {\n  set({name: username, org: orgName});\n  return authService.obtainToken();\n}\n\nfunction logout() {\n  clear();\n}\n","import * as apiService from './api.service';\nimport {configService} from './config.service';\n\nexport const dealService = {\n  getAll,\n  getByPeriod,\n  getForCreatorByPeriod\n};\n\nconst ACTIONS = {\n  getAll: 'queryDeals',\n  getByPeriod: 'queryDealsByPeriod',\n  getForCreatorByPeriod: 'queryDealsForCreatorByPeriod'\n};\n\nconst CHAINCODES = {\n  reference: 'reference'\n};\n\nconst CHANNELS = {\n  common: 'common'\n};\n\nasync function getAll() {\n  const channels = await configService.getChannels();\n  const chaincodes = await configService.getChaincodes();\n  return await apiService.query(\n    channels[CHANNELS.common],\n    chaincodes[CHAINCODES.reference],\n    ACTIONS.getAll);\n}\n\nasync function getByPeriod(period) {\n  const channels = await configService.getChannels();\n  const chaincodes = await configService.getChaincodes();\n  return await apiService.query(\n    channels[CHANNELS.common],\n    chaincodes[CHAINCODES.reference],\n    ACTIONS.getByPeriod,\n    period);\n}\n\nasync function getForCreatorByPeriod(period) {\n  const channels = await configService.getChannels();\n  const chaincodes = await configService.getChaincodes();\n  return await apiService.query(\n    channels[CHANNELS.common],\n    chaincodes[CHAINCODES.reference],\n    ACTIONS.getForCreatorByPeriod,\n    period);\n}\n","import * as apiService from './api.service';\nimport {configService} from './config.service';\n\nexport const bidService = {\n  getAll,\n  add,\n  edit,\n  accept,\n  cancel\n};\n\nconst ACTIONS = {\n  getAll: 'queryBids',\n  add: 'placeBid',\n  edit: 'editBid',\n  accept: 'makeDeal',\n  cancel: 'cancelBid'\n};\n\nconst CHAINCODES = {\n  reference: 'reference'\n};\n\nconst CHANNELS = {\n  common: 'common'\n};\n\nasync function getAll() {\n  const channels = await configService.getChannels();\n  const chaincodes = await configService.getChaincodes();\n  return apiService.query(\n    channels[CHANNELS.common],\n    chaincodes[CHAINCODES.reference],\n    ACTIONS.getAll);\n}\n\nasync function add(bid) {\n  const channels = await configService.getChannels();\n  const chaincodes = await configService.getChaincodes();\n  return apiService.invoke(\n    channels[CHANNELS.common],\n    chaincodes[CHAINCODES.reference],\n    ACTIONS.add,\n    [bid.type + '', bid.amount, bid.rate]\n  );\n}\n\nasync function edit(bid) {\n  const channels = await configService.getChannels();\n  const chaincodes = await configService.getChaincodes();\n  return apiService.invoke(\n    channels[CHANNELS.common],\n    chaincodes[CHAINCODES.reference],\n    ACTIONS.edit,\n    [bid.id, 0, bid.amount, bid.rate]\n  );\n}\n\nasync function accept(bid) {\n  const channels = await configService.getChannels();\n  const chaincodes = await configService.getChaincodes();\n  return apiService.invoke(\n    channels[CHANNELS.common],\n    chaincodes[CHAINCODES.reference],\n    ACTIONS.accept,\n    [bid.key.id]\n  );\n}\n\nasync function cancel(bid) {\n  const channels = await configService.getChannels();\n  const chaincodes = await configService.getChaincodes();\n  return apiService.invoke(\n    channels[CHANNELS.common],\n    chaincodes[CHAINCODES.reference],\n    ACTIONS.cancel,\n    [bid.key.id]\n  );\n}\n","import {configConstants} from '../_constants';\nimport {configService} from '../_services';\n\nexport const configActions = {\n  get\n};\n\nfunction get() {\n  return dispatch => {\n    configService.load()\n      .then(\n         config => {\n          dispatch(success(config));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n        }\n      );\n  };\n\n  function success(config) {\n    return {type: configConstants.SUCCESS, config}\n  }\n  function failure(error) {\n    return {type: configConstants.FAILURE, error}\n  }\n}","import {modalConstants} from '../_constants';\n\nexport const modalActions = {\n  register,\n  show,\n  hide,\n  setData\n};\n\nfunction register(modalId) {\n  return {type: modalConstants.HIDE, modalId};\n}\n\nfunction show(modalId, object) {\n  return {type: modalConstants.SHOW, modalId, object};\n}\n\nfunction hide(modalId) {\n  return {type: modalConstants.HIDE, modalId};\n}\n\nfunction setData(modalId, data) {\n  return {type: modalConstants.SET_DATA, modalId, data};\n}","import {userConstants} from '../_constants';\nimport {userService} from '../_services';\nimport {alertActions} from './';\nimport {history} from '../_helpers';\n\nexport const userActions = {\n  login,\n  logout\n};\n\n\nfunction login(username, orgName) {\n  return dispatch => {\n    dispatch(request({username}));\n\n    userService.login(username, orgName)\n      .then(\n        user => {\n          dispatch(success(user));\n          history.push('./');\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request(user) {\n    return {type: userConstants.LOGIN_REQUEST, user}\n  }\n\n  function success(user) {\n    return {type: userConstants.LOGIN_SUCCESS, user}\n  }\n\n  function failure(error) {\n    return {type: userConstants.LOGIN_FAILURE, error}\n  }\n}\n\nfunction logout() {\n  return dispatch => {\n    userService.logout();\n    dispatch(success());\n  };\n\n  function success() {\n    return {type: userConstants.LOGOUT};\n  }\n}","import {dealConstants} from '../_constants';\nimport {dealService} from '../_services';\nimport {alertActions} from './';\n\nexport const dealActions = {\n  add,\n  edit,\n  getAll,\n  getByPeriod,\n  getForCreatorByPeriod,\n  history\n};\n\nfunction add(product) {\n  return dispatch => {\n    dispatch(request());\n    dealService.add(product)\n      .then(\n        product => {\n          dispatch(success());\n          dispatch(alertActions.success('Product was added'));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request() {\n    return {type: dealConstants.ADD_REQUEST}\n  }\n\n  function success() {\n    return {type: dealConstants.ADD_SUCCESS}\n  }\n\n  function failure(error) {\n    return {type: dealConstants.ADD_FAILURE, error}\n  }\n}\n\nfunction edit(product) {\n  return dispatch => {\n    dispatch(request());\n    dealService.edit(product)\n      .then(\n        product => {\n          dispatch(success());\n          dispatch(alertActions.success('Product was updated'));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request() {\n    return {type: dealConstants.EDIT_REQUEST}\n  }\n\n  function success() {\n    return {type: dealConstants.EDIT_SUCCESS}\n  }\n\n  function failure(error) {\n    return {type: dealConstants.EDIT_FAILURE, error}\n  }\n}\n\nfunction getAll(shadowMode) {\n  return dispatch => {\n    dispatch(request(shadowMode));\n\n    dealService.getAll()\n      .then(\n        products => {\n          dispatch(success(products));\n        },\n        error => dispatch(failure(error.toString()))\n      );\n  };\n\n  function request(shadowMode) {\n    return {type: dealConstants.GETALL_REQUEST, shadowMode}\n  }\n\n  function success(deals) {\n    return {type: dealConstants.GETALL_SUCCESS, deals}\n  }\n\n  function failure(error) {\n    return {type: dealConstants.GETALL_FAILURE, error}\n  }\n}\n\nfunction getByPeriod(period) {\n  return dispatch => {\n    dispatch(request(period));\n\n    dealService.getByPeriod(period)\n      .then(\n        products => {\n          dispatch(success(products));\n        },\n        error => dispatch(failure(error.toString()))\n      );\n  };\n\n  function request(period) {\n    return {type: dealConstants.GETBYPERIOD_REQUEST, period}\n  }\n\n  function success(deals) {\n    return {type: dealConstants.GETBYPERIOD_SUCCESS, deals}\n  }\n\n  function failure(error) {\n    return {type: dealConstants.GETBYPERIOD_FAILURE, error}\n  }\n}\n\nfunction getForCreatorByPeriod(period) {\n  return dispatch => {\n    dispatch(request(period));\n\n    dealService.getForCreatorByPeriod(period)\n      .then(\n        products => {\n          dispatch(success(products));\n        },\n        error => dispatch(failure(error.toString()))\n      );\n  };\n\n  function request(period) {\n    return {type: dealConstants.GETFORCREATORBYPERIOD_REQUEST, period}\n  }\n\n  function success(deals) {\n    return {type: dealConstants.GETFORCREATORBYPERIOD_SUCCESS, deals}\n  }\n\n  function failure(error) {\n    return {type: dealConstants.GETFORCREATORBYPERIOD_FAILURE, error}\n  }\n}\n\nfunction history(product) {\n  return dispatch => {\n    dispatch(request());\n\n    dealService.history(product)\n      .then(\n        history => {\n          dispatch(success(product, history));\n        },\n        error => dispatch(failure(error.toString()))\n      );\n  };\n\n  function request() {\n    return {type: dealConstants.HISTORY_REQUEST};\n  }\n\n  function success(product, history) {\n    return {type: dealConstants.HISTORY_SUCCESS, product, history};\n  }\n\n  function failure(error) {\n    return {type: dealConstants.HISTORY_FAILURE, error};\n  }\n}\n","import {orderConstants} from '../_constants';\nimport {bidService} from '../_services';\nimport {alertActions} from './';\n\nexport const orderActions = {\n  getAll,\n  add,\n  edit,\n  accept,\n  cancel,\n  history\n};\n\nfunction getAll(shadowMode) {\n  return dispatch => {\n    dispatch(request(shadowMode));\n    bidService.getAll()\n      .then(\n         requests => {\n          dispatch(success(requests));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request(shadowMode) {\n    return {type: orderConstants.GET_ALL_REQUEST, shadowMode}\n  }\n\n  function success(orders) {\n    return {type: orderConstants.GET_ALL_SUCCESS, orders}\n  }\n\n  function failure(error) {\n    return {type: orderConstants.GET_ALL_FAILURE, error}\n  }\n}\n\nfunction add(bid, comment) {\n  return dispatch => {\n    dispatch(request());\n    bidService.add(bid, comment)\n      .then(\n        _ => {\n          dispatch(success());\n          dispatch(alertActions.success('Order was added'));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request() {\n    return {type: orderConstants.ADD_REQUEST}\n  }\n\n  function success() {\n    return {type: orderConstants.ADD_SUCCESS}\n  }\n\n  function failure(error) {\n    return {type: orderConstants.ADD_FAILURE, error}\n  }\n}\n\nfunction edit(bid) {\n  return dispatch => {\n    dispatch(request());\n    bidService.edit(bid)\n      .then(\n        _ => {\n          dispatch(success());\n          dispatch(alertActions.success('Order was updated'));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request() {\n    return {type: orderConstants.EDIT_REQUEST}\n  }\n\n  function success() {\n    return {type: orderConstants.EDIT_SUCCESS}\n  }\n\n  function failure(error) {\n    return {type: orderConstants.EDIT_FAILURE, error}\n  }\n}\n\nfunction accept(req) {\n  return dispatch => {\n    dispatch(request());\n    bidService.accept(req)\n      .then(\n        _ => {\n          dispatch(success());\n          dispatch(alertActions.success('Order was accepted'));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request() {\n    return {type: orderConstants.ACCEPT_REQUEST}\n  }\n\n  function success() {\n    return {type: orderConstants.ACCEPT_SUCCESS}\n  }\n\n  function failure(error) {\n    return {type: orderConstants.ACCEPT_FAILURE, error}\n  }\n}\n\nfunction cancel(req) {\n  return dispatch => {\n    dispatch(request());\n    bidService.cancel(req)\n      .then(\n        _ => {\n          dispatch(success());\n          dispatch(alertActions.success('Order was cancelled'));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request() {\n    return {type: orderConstants.CANCEL_REQUEST}\n  }\n\n  function success() {\n    return {type: orderConstants.CANCEL_SUCCESS}\n  }\n\n  function failure(error) {\n    return {type: orderConstants.CANCEL_FAILURE, error}\n  }\n}\n\nfunction history(req) {\n  return dispatch => {\n    dispatch(request());\n\n    bidService.history(req)\n      .then(\n        history => {\n          dispatch(success(req, history));\n        },\n        error => dispatch(failure(error.toString()))\n      );\n  };\n\n  function request() {\n    return {type: orderConstants.HISTORY_REQUEST};\n  }\n\n  function success(req, history) {\n    return {type: orderConstants.HISTORY_SUCCESS, req, history};\n  }\n\n  function failure(error) {\n    return {type: orderConstants.HISTORY_FAILURE, error};\n  }\n}","import React from 'react';\n\nexport class Footer extends React.Component {\n  render() {\n    const now = new Date().getFullYear();\n    return (\n      <div className=\"text-center\">\n        <p>\n          <a href=\"http://altoros.com\" target=\"_blank\" rel=\"noopener noreferrer\">Altoros</a> &copy; {now}\n        </p>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport {connect} from 'react-redux';\n\nimport {formatter} from '../_helpers';\n\nclass Header extends React.Component {\n  render() {\n    const {user} = this.props;\n    return (\n      <nav className=\"navbar navbar-light navbar-expand\">\n        <div className=\"navbar-brand\"><img src=\"./AltorosLogo_mini1.png\" alt=\"logo\"/></div>\n        {user && <div className=\"container-fluid\">\n          <div className='ml-5'>Hi, <b>{user.name}</b> from <i>{formatter.org(user.org)}</i></div>\n          <ul className=\"nav navbar-nav pull-xs-right\">\n\n            <li className=\"nav-item\">\n              <NavLink exact to='/' className=\"nav-link\">\n                Dashboard\n              </NavLink>\n            </li>\n\n            <li className=\"nav-item\">\n              <NavLink to='/deals' className=\"nav-link\">\n                Deals\n              </NavLink>\n            </li>\n\n            <li className=\"nav-item\">\n              <NavLink to='/summary' className=\"nav-link\">\n                Summary\n              </NavLink>\n            </li>\n\n            <li className=\"nav-item\">\n              <NavLink to='login' className=\"nav-link\">\n                Logout\n              </NavLink>\n            </li>\n          </ul>\n        </div>}\n      </nav>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {user} = state.authentication;\n  return {\n    user\n  };\n}\n\nconst connected = connect(mapStateToProps)(Header);\nexport {connected as Header};\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport Switch from 'rc-switch';\nimport Creatable from 'react-select/lib/Creatable';\nimport {components} from 'react-select';\n\nimport {orderActions} from '../_actions';\nimport {commonConstants} from '../_constants/common.constants';\n\nconst rateOptions = [\n  {value: '1.000', label: '1.000'},\n  {value: '0.875', label: '0.875'},\n  {value: '0.750', label: '0.750'},\n  {value: '0.625', label: '0.625'},\n  {value: '0.500', label: '0.500'},\n  {value: '0.375', label: '0.375'},\n  {value: '0.250', label: '0.250'},\n  {value: '0.125', label: '0.125'}\n];\n\nclass AddOrder extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      bid: {\n        amount: undefined,\n        rate: undefined,\n        type: 1,\n        created: false\n      },\n      submitted: false\n    };\n    this._fill();\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.changeType = this.changeType.bind(this);\n    this.changeRate = this.changeRate.bind(this);\n\n    //Modal integration\n    this.props.setSubmitFn && this.props.setSubmitFn(this.handleSubmit);\n  }\n\n  componentDidMount() {\n    this.amountInput.focus();\n  }\n\n  _fill() {\n    if(this.props.initData && this.props.initData.key) {\n      this.state.bid.id = this.props.initData.key.id;\n      this.state.bid.amount = this.props.initData.value.amount;\n      this.state.bid.rate = this.props.initData.value.rate;\n      this.state.bid.created = true;\n    }\n  }\n\n  changeType(newV) {\n    this.setState({\n      bid: {\n        ...this.state.bid,\n        type: newV === true ? 0 : 1\n      }\n    });\n  }\n\n  changeRate(newV) {\n    this.setState({\n      bid: {\n        ...this.state.bid,\n        rate: (newV && newV.value) || ''\n      }\n    });\n  }\n\n  handleChange(event) {\n    const {name, value} = event.target;\n    const {bid} = this.state;\n    this.setState({\n      bid: {\n        ...bid,\n        [name]: value\n      },\n      submitted: false\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    this.setState({submitted: true});\n    const {bid} = this.state;\n    if (bid.amount && bid.rate) {\n      this.props.dispatch(orderActions[bid.id ? 'edit' : 'add'](bid));\n    }\n  }\n\n\n  render() {\n    const {bid, submitted} = this.state;\n    return (\n      <form name=\"form\" onSubmit={this.handleSubmit}>\n        <div className='form-group'>\n          <label htmlFor=\"amount\">Amount</label>\n\n          <div className='input-group'>\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">{commonConstants.CURRENCY_SIGN}</span>\n            </div>\n            <input type=\"text\" className={\"form-control\" + (submitted && !bid.amount ? ' is-invalid' : '')}\n                      name=\"amount\" value={bid.amount}\n                      ref={(input) => { this.amountInput = input; }}\n                      onChange={this.handleChange}/>\n            {submitted && !bid.amount && <div className=\"text-danger invalid-feedback\">Amount is required</div>}\n          </div>\n        </div>\n        <Creatable\n          name=\"rate\"\n          isClearable\n          onChange={this.changeRate}\n          placeholder=\"Select or type any value...\"\n          options={rateOptions}\n          value={bid.rate ? {value: bid.rate, label: bid.rate} : undefined}\n          components={{ Control: (props) => (\n            <div className='form-group'>\n              <label htmlFor=\"rate\">Rate</label>\n              <div className=\"input-group\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">{commonConstants.RATE_SIGN}</span>\n                </div>\n                <components.Control\n                  className={\"form-control\" + (submitted && !bid.rate ? ' is-invalid' : '')} {...props} />\n                {submitted && !bid.rate && <div className=\"text-danger invalid-feedback\">Rate is required</div>}\n              </div>\n            </div>\n          ) }}\n        />\n\n        {!bid.id && <div>\n          <Switch\n            name=\"type\"\n            onChange={this.changeType}\n            checkedChildren={'Lend'}\n            unCheckedChildren={'Borrow'}\n          />\n        </div>}\n      </form>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {bid} = state;\n\n  return {\n    bid\n  }\n}\n\nconst connected = connect(mapStateToProps)(AddOrder);\nexport {connected as AddOrder};","import React from 'react';\nimport {connect} from 'react-redux';\nimport {ComposedChart, ResponsiveContainer, Line, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend} from 'recharts';\n\nimport {formatter} from '../_helpers';\nimport {commonConstants} from '../_constants';\n\n\nconst DEFAULT_TICKS = [0.125, 0.250, 0.375, 0.500, 0.625, 0.750, 0.875, 1.000];\n\nclass LineBarAreaComposedChart extends React.Component {\n  render () {\n    const {deals, formatXAxis, lineType} = this.props;\n\n    if (!deals || !deals.items) {\n      return null;\n    }\n\n    const data = deals.items.map(r => {\n      r.value.ts = formatXAxis ? formatXAxis(new Date(r.value.timestamp * 1000)) : formatter.time(new Date(r.value.timestamp * 1000));\n      return r;\n    })\n      .sort((a, b) => {\n        return a.value.timestamp > b.value.timestamp ? 1 : -1;\n      });\n\n    return !!data.length && (\n      <ResponsiveContainer width=\"100%\" height={300}>\n        <ComposedChart data={data}\n                       margin={{top: 20, right: 20, bottom: 20, left: 20}}>\n          <CartesianGrid stroke='#f5f5f5'/>\n          <XAxis dataKey=\"value.ts\" name=\"Time\"/>\n          <YAxis yAxisId=\"left\" tickFormatter={formatter.rate} unit={commonConstants.RATE_SIGN} interval={0} ticks={DEFAULT_TICKS} />\n          <YAxis yAxisId=\"right\" tickFormatter={formatter.number} orientation=\"right\" unit={commonConstants.CURRENCY_SIGN}/>\n          <Tooltip />\n          <Legend />\n          <Bar yAxisId=\"right\" dataKey='value.amount' name=\"Amount\" barSize={20} fill='#413ea0' unit={commonConstants.CURRENCY_SIGN} />\n          <Line yAxisId=\"left\" dataKey='value.rate' name=\"Rate\" type={lineType || \"liner\"} stroke='#ff7300' unit={commonConstants.RATE_SIGN} />\n        </ComposedChart>\n      </ResponsiveContainer>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {deals, authentication} = state;\n  const {user} = authentication;\n  return {\n    user,\n    deals\n  };\n}\n\nconst connected = connect(mapStateToProps)(LineBarAreaComposedChart);\nexport {connected as Chart};\n","import React from 'react';\nimport ReactTable from 'react-table';\nimport {connect} from 'react-redux';\n\nimport {dealActions} from '../_actions';\nimport {formatter} from '../_helpers';\nimport {commonConstants} from '../_constants';\n\n\nclass DealsTable extends React.Component {\n  constructor() {\n    super();\n\n    this.refreshData = this.refreshData.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshData();\n  }\n\n  refreshData() {\n    this.props.dispatch(dealActions.getAll());\n  }\n\n  render() {\n    const {deals, columns} = this.props;\n\n    if (!deals || !deals.items) {\n      return null;\n    }\n\n    const columnsDefault = [{\n      Header: 'Lender',\n      id: 'value.lender',\n      accessor: rec => formatter.org(rec.value.lender)\n    }, {\n      Header: 'Borrower',\n      id: 'value.borrower',\n      accessor: rec => formatter.org(rec.value.borrower)\n    }, {\n      Header: 'Amount, ' + commonConstants.CURRENCY_SIGN,\n      id: 'value.amount',\n      accessor: rec => formatter.number(rec.value.amount)\n    }, {\n      Header: 'Rate, ' + commonConstants.RATE_SIGN,\n      id: 'value.rate',\n      accessor: rec => formatter.rate(rec.value.rate)\n    }, {\n      Header: 'Date',\n      id: 'value.timestamp',\n      accessor: rec => formatter.time(new Date(rec.value.timestamp * 1000))\n    }];\n\n    return (\n        <ReactTable\n          columns={columns || columnsDefault}\n          data={deals.items || []}\n          className=\"-striped -highlight\"\n          defaultPageSize={10}\n          minWidth={60}\n          filterable={true}\n          defaultSorted={[\n            {\n              id: \"value.timestamp\",\n              desc: true\n            }\n          ]}\n        />\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {deals} = state;\n  return {\n    deals\n  };\n}\n\nconst connected = connect(mapStateToProps)(DealsTable);\nexport {connected as DealsTable};\n","import React from 'react';\nimport ReactTable from 'react-table';\n\nexport class HistoryTable extends React.Component {\n  componentDidMount() {\n    this.props.loadData(this.props.initData);\n  }\n\n  render() {\n    const {children, ...rest} = this.props;\n\n    return (\n      <ReactTable\n        className=\"-striped -highlight\"\n        defaultPageSize={10}\n        filterable={true}\n        {...rest}\n      />\n    );\n  }\n}","import React from 'react';\nimport {connect} from 'react-redux';\nimport ReactModal from 'react-modal';\nimport {modalActions} from '../_actions/modal.actions';\n\nconst customStyles = {\n  content: {\n    width: '100%',\n    height: '100%',\n    top: '0',\n    left: '0',\n    cursor: 'default',\n    'background-color': 'rgba(255, 255, 255, 0.1)'\n  },\n  overlay: {\n    'z-index': '20'\n  }\n};\n\nclass Modal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n    this.setSubmitFn = this.setSubmitFn.bind(this);\n    this.handleSubmit = () => {};\n  }\n\n  componentDidMount() {\n    const {modalId, dispatch} = this.props;\n    dispatch(modalActions.register(modalId));\n  }\n\n  static open(modalId, data) {\n    this.props.dispatch(modalActions.show(modalId, data));\n  }\n\n  setSubmitFn(fn) {\n    this.handleSubmit = fn;\n  }\n\n  handleCloseModal () {\n    const {modalId, dispatch} = this.props;\n    dispatch(modalActions.hide(modalId));\n  }\n\n  render() {\n    const {modalId, modals, children, footer = true, submitText = 'Save'} = this.props;\n    const modalProps = modals[modalId];\n    if (!(modalProps && modalProps.show)) {\n      return null;\n    }\n    modalProps.modalId = modalId;\n    return (\n      <ReactModal\n        isOpen={modalProps.show}\n        style={customStyles}\n      >\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" style={{display: 'block'}}>\n          <div className={(this.props.large ? 'modal-lg' : '') + ' modal-dialog'} role=\"document\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <h5 className=\"modal-title\">{this.props.title}</h5>\n                <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={this.handleCloseModal}>\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div className=\"modal-body\">\n                <div className=\"col\">\n                  {React.Children.map(children,\n                    child => {\n                      return React.cloneElement(child,\n                        {\n                          setSubmitFn: this.setSubmitFn,\n                          data: modalProps.data,\n                          initData: modalProps.object,\n                          modal: modalProps,\n                          ...this.props\n                        });\n                    })}\n                </div>\n              </div>\n              {footer && <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-primary\"\n                        onClick={(e)=>{this.handleSubmit(e)}}>{submitText}</button>\n                <button type=\"button\" className=\"btn btn-secondary\"\n                        onClick={this.handleCloseModal}>Close</button>\n              </div>}\n            </div>\n          </div>\n        </div>\n\n      </ReactModal>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {modals} = state;\n  return {\n    modals\n  };\n}\n\nconst connected = connect(mapStateToProps)(Modal);\nexport {connected as Modal};","import React from 'react';\nimport {connect} from 'react-redux';\nimport './Notification.css';\nimport {alertActions} from '../_actions/alert.actions';\n\nclass Notification extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.cancel = this.cancel.bind(this);\n  }\n  render() {\n    const {alert} = this.props;\n    return (\n      <div className={'notification ' + (alert.message ? 'fadein': 'fadeout invisible')}>\n        {alert.message &&\n        <div className={`d-flex justify-content-between align-items-between  alert ${alert.type || ''}`}>\n          <span>{alert.message}</span>\n          <span aria-hidden=\"true\" onClick={this.cancel} className=\"close-btn\">&times;</span>\n        </div>}\n      </div>\n    );\n  }\n\n  cancel() {\n    this.props.dispatch(alertActions.clear());\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {alert} = state;\n  return {\n    alert\n  };\n}\n\nconst connected = connect(mapStateToProps)(Notification);\nexport {connected as Notification};\n","import React from 'react';\nimport ReactTable from 'react-table';\nimport {connect} from 'react-redux';\n\nimport {orderActions} from '../_actions';\nimport {modalIds} from '../_constants';\nimport {Modal} from '../_components';\nimport {formatter} from '../_helpers';\nimport {commonConstants} from '../_constants/common.constants';\n\nclass OrdersTable extends React.Component {\n  constructor() {\n    super();\n\n    this.refreshData = this.refreshData.bind(this);\n    this.makeDeal = this.makeDeal.bind(this);\n    this.cancelBid = this.cancelBid.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshData();\n  }\n\n  refreshData() {\n    this.props.dispatch(orderActions.getAll());\n  }\n\n  render() {\n    const {orders, user} = this.props;\n\n    if(!orders || !orders.items) {\n      return null;\n    }\n    //TODO use apporpriate API\n    orders.items = orders.items.filter(i => i.value.status === 0);\n\n    const columns = [{\n      Header: 'Lender',\n      id: 'lender',\n      accessor: rec => rec.value.type === 0 ? formatter.org(rec.value.creator) : ''\n    }, {\n      Header: 'Amount Lend, ' + commonConstants.CURRENCY_SIGN,\n      id: 'amount.lend',\n      className: 'text-danger',\n      accessor: rec => rec.value.type === 0 ? formatter.number(rec.value.amount) : ''\n    }, {\n      Header: 'Rate, ' + commonConstants.RATE_SIGN,\n      id: 'value.rate',\n      accessor: rec => formatter.rate(rec.value.rate),\n      sortMethod: (a, b) => {\n        return a && b && parseFloat(a) > parseFloat(b) ? 1 : -1;\n      }\n    }, {\n      Header: 'Amount Borrow, ' + commonConstants.CURRENCY_SIGN,\n      id: 'amount.borrow',\n      className: 'text-success',\n      accessor: rec => rec.value.type === 1 ? formatter.number(rec.value.amount) : ''\n    },{\n      Header: 'Borrower',\n      id: 'borrower',\n      accessor: rec => rec.value.type === 1 ? formatter.org(rec.value.creator) : ''\n    },  {\n      id: 'actions',\n      Header: 'Actions',\n      accessor: 'key.id',\n      filterable: false,\n      Cell: row => {\n        const record = row.original;\n        return (\n          <div>\n            {(record.value.status === 0 && record.value.creator !== user.org) &&\n              (<button className=\"btn btn-sm btn-success\" title=\"Make deal\"\n                       onClick={()=>{this.makeDeal(row.original)}}>\n                <i className=\"far fa-fw fa-handshake\"/>\n              </button>)\n            }\n            {(record.value.status === 0 && record.value.creator === user.org) &&\n            (<button className=\"btn btn-sm btn-primary\"  title=\"Edit\"\n                     onClick={Modal.open.bind(this, modalIds.editOrder, record)}>\n              <i className=\"fas fa-fw fa-pen\"/>\n            </button>)\n            }\n            {(record.value.status === 0 && record.value.creator === user.org) &&\n              (<button className=\"btn btn-sm btn-danger\"  title=\"Cancel\"\n                       onClick={()=>{this.cancelBid(row.original)}}>\n                  <i className=\"fas fa-fw fa-times\"/>\n              </button>)\n            }\n          </div>\n        )\n      }\n    }];\n\n    return (\n      <ReactTable\n        columns={columns}\n        data={orders.items || []}\n        className=\"-striped -highlight\"\n        defaultPageSize={10}\n        minWidth={60}\n        filterable={true}\n        getTrProps={(state, rowInfo) => {\n          return {\n            style: {\n              'font-weight': rowInfo && rowInfo.original.value.creator !== user.org ? \"normal\" : \"bold\"\n            }\n          };\n        }}\n        defaultSorted={[\n          {\n            id: \"value.rate\",\n            desc: true\n          }\n        ]}/>\n    );\n  }\n\n  makeDeal(record) {\n    this.props.dispatch(orderActions.accept(record));\n  }\n\n  cancelBid(record) {\n    this.props.dispatch(orderActions.cancel(record));\n  }\n\n  editBid(record) {\n    this.props.dispatch(orderActions.edit(record));\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {orders, authentication} = state;\n  const {user} = authentication;\n  return {\n    orders,\n    user\n  };\n}\n\nconst connected = connect(mapStateToProps)(OrdersTable);\nexport {connected as OrdersTable};\n","import React from 'react';\n\nclass CheckBox extends React.Component {\n  render() {\n    const {id, label, checked, onChange} = this.props;\n\n    return (\n      <div className=\"form-check\">\n        <input className=\"form-check-input\" type=\"checkbox\" checked={checked} id={id} onChange={onChange}/>\n        <label className=\"form-check-label\" htmlFor={id}>\n          {label}\n        </label>\n      </div>\n    );\n  }\n}\n\nexport default CheckBox;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport moment from 'moment';\nimport DatePicker from 'react-datepicker';\nimport CheckBox from './secondary/CheckBox';\nimport 'react-datepicker/dist/react-datepicker.css';\n\nconst components = {\n  DatePicker,\n  CheckBox\n};\n\nclass FilterContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    const {propertyFilterContainer, handleSubmit} = this.props;\n\n    const propertyFilterContainerDefault = [\n      {\n        type: \"DatePicker\",\n        label: \"From\",\n        state: {nameProp: \"selected\", name: \"fromDate\", value: moment()},\n        properties: {\n          isClearable: \"true\"\n        }\n      },\n      {\n        type: \"DatePicker\",\n        label: \"To\",\n        state: {nameProp: \"selected\", name: \"toDate\", value: moment()},\n        properties: {\n          isClearable: \"true\"\n        }\n      },\n      {\n        type: \"CheckBox\",\n        label: \"\",\n        state: {nameProp: \"checked\", name: \"myDeals\", value: false},\n        properties: {\n          label: \"Only my Deals\"\n        }\n      }\n    ];\n\n    this.instrumentsNames = (propertyFilterContainer || propertyFilterContainerDefault);\n\n    let states = {};\n\n    this.instruments = this.instrumentsNames.map(\n      element => {\n        if (typeof components[element.type] !== \"undefined\") {\n          states[element.state.name] = element.state.value;\n          return components[element.type]\n        } else {\n          throw new Error(`There is no such Component ${element.type}`);\n        }\n      }\n    );\n    this.state = states;\n\n    this.handleSubmit = handleSubmit.bind(this);\n  }\n\n  handleChange(state, value) {\n    value = (value && typeof value !== \"undefined\") ? (typeof value.target !== \"undefined\" ? (value.target.type === 'checkbox' ? value.target.checked : value) : value) : value;\n\n    this.setState({\n      [state]: value\n    });\n  }\n\n  prepareSubmit(event) {\n    let parameters = {};\n    this.instrumentsNames.map(\n      element => {\n        return parameters[element.state.name] = moment.isMoment(this.state[element.state.name]) ? this.state[element.state.name].format('X') : this.state[element.state.name];\n      }\n    );\n    this.handleSubmit(event, parameters);\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.prepareSubmit.bind(this)}>\n        {this.instruments.map((Instrument, index) => {\n          let proporties = this.instrumentsNames[index].properties;\n          proporties[this.instrumentsNames[index].state.nameProp] = this.state[this.instrumentsNames[index].state.name];\n\n          return (\n            <div className=\"form-group row\">\n              <label htmlFor={\"input\" + index}\n                     className=\"col-sm-2 col-form-label\">{this.instrumentsNames[index].label}</label>\n              <div className=\"col-sm-10\">\n                <Instrument\n                  id={\"input\" + index}\n                  onChange={this.handleChange.bind(this, this.instrumentsNames[index].state.name)}\n                  {...proporties}\n                />\n              </div>\n            </div>\n          );\n        })}\n        <div className=\"form-group row\">\n          <div className=\"col-sm-10\">\n            <button type=\"submit\" className=\"btn btn-primary\">Apply</button>\n          </div>\n        </div>\n      </form>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {deals} = state;\n  return {\n    deals\n  };\n}\n\nconst connected = connect(mapStateToProps)(FilterContainer);\nexport {connected as FilterContainer};\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {Notification} from '../_components';\n\nclass Main extends React.Component {\n  render() {\n    const { route } = this.props;\n    const Component = this.props.component;\n    return (\n      <div className=\"jumbotron\">\n        <div className=\"container-fluid\">\n          <Notification/>\n          <Component route={route}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {alert} = state;\n  return {\n    alert\n  };\n}\n\nconst connected = connect(mapStateToProps)(Main);\nexport {connected as Main};","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {AddOrder, Chart, OrdersTable, DealsTable, Modal} from '../_components';\nimport {orderActions, dealActions, modalActions} from '../_actions';\nimport {modalIds} from '../_constants';\nimport {NavLink} from 'react-router-dom';\n\nclass HomePage extends React.Component {\n\n  componentDidMount() {\n    this.timerId = setInterval(this.refreshData.bind(this, true), 50000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerId);\n  }\n\n  componentDidUpdate(prevProps) {\n    const {orders, dispatch} = this.props;\n\n    if (orders.adding === false) {\n      this.refreshData();\n      dispatch(modalActions.hide(modalIds.addOrder));\n      dispatch(modalActions.hide(modalIds.editOrder));\n    }\n  }\n\n  refreshData(shadowMode) {\n    this.props.dispatch(dealActions.getAll(shadowMode));\n    this.props.dispatch(orderActions.getAll(shadowMode));\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"row justify-content-between\">\n          <button className=\"btn btn-primary mb-2\" onClick={Modal.open.bind(this, modalIds.addOrder)}>\n            Place Order\n          </button>\n          <NavLink to='/deals' className=\"btn btn-primary mb-2\">\n            Deals Details\n          </NavLink>\n        </div>\n        <Modal modalId={modalIds.addOrder} title=\"Place Order\">\n          <AddOrder/>\n        </Modal>\n        <Modal modalId={modalIds.editOrder} title=\"Edit Order\">\n          <AddOrder/>\n        </Modal>\n        <div className=\"row\">\n          <div className=\"col-6\">\n            <OrdersTable/>\n          </div>\n          <div className=\"col-6\">\n            <DealsTable/>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <Chart lineType=\"liner\"/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {orders, deals, authentication, modals} = state;\n  const {user} = authentication;\n  return {\n    orders,\n    user,\n    deals,\n    modals\n  };\n}\n\nconst connected = connect(mapStateToProps)(HomePage);\nexport {connected as HomePage};\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {userActions} from '../_actions/index';\nimport {configService} from '../_services/index';\n\nclass LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // reset login status\n    this.props.dispatch(userActions.logout());\n\n    this.state = {\n      username: '',\n      orgName: '',\n      submitted: false\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    const {name, value} = e.target;\n    this.setState({[name]: value, submitted: false});\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n\n    this.setState({submitted: true, orgName: configService.get().org}, () => {\n      const {username, orgName} = this.state;\n      const {dispatch} = this.props;\n      if (username) {\n        dispatch(userActions.login(username, orgName));\n      }\n    });\n  }\n\n  render() {\n    const {username, submitted} = this.state;\n    return (\n      <div className=\"col-md-6 offset-md-3\">\n        <h2>Login</h2>\n        <form name=\"form\" onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">Username</label>\n            <input type=\"text\" className={'form-control ' + (submitted && !username && 'is-invalid')} name=\"username\" value={username} onChange={this.handleChange}/>\n            {submitted && !username &&\n            <div className=\"text-danger\">Username is required</div>\n            }\n          </div>\n          <div className=\"form-group\">\n            <button className=\"btn btn-primary\">Login</button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps() {\n}\n\nconst connected = connect(mapStateToProps)(LoginPage);\nexport {connected as LoginPage};","import React from 'react';\nimport ReactTable from 'react-table';\nimport {connect} from 'react-redux';\n\nimport {dealActions} from '../_actions';\nimport {formatter} from '../_helpers';\nimport {commonConstants} from '../_constants';\n\n\nclass SummaryPage extends React.Component {\n  constructor() {\n    super();\n\n    this.refreshData = this.refreshData.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const {deals} = this.props;\n\n    if (deals.adding === false) {\n      this.refreshData();\n    }\n  }\n\n  refreshData() {\n    this.props.dispatch(dealActions.getAll());\n  }\n\n  render() {\n    const {deals, user} = this.props;\n\n    if (!deals || !deals.items) {\n      return null;\n    }\n\n    const data = deals.items.filter(d => d.value.borrower === user.org || d.value.lender === user.org);\n\n    const closingBalance = data.reduce((acc, rec) => {\n      const val = rec.value.amount;\n      return acc + (rec.value.lender === user.org ? -val : val)\n    }, 0);\n\n    const netted = data.reduce((acc, rec) => {\n      const val = (rec.value.amount/365*rec.value.rate);\n      return acc + (rec.value.lender === user.org ? val : -val)\n    }, 0);\n\n    const clearingColumns = [{\n      Header: 'Cash out, ' + commonConstants.CURRENCY_SIGN,\n      id: 'cashOut',\n      className: 'text-danger',\n      accessor: rec => rec.value.lender === user.org ? formatter.number(rec.value.amount) : '',\n      Footer: (\n        formatter.number(data.reduce((acc, rec) => acc + (rec.value.lender === user.org ? rec.value.amount : 0), 0))\n      )\n    }, {\n      Header: 'Cash in, ' + commonConstants.CURRENCY_SIGN,\n      id: 'cashIn',\n      className: 'text-success',\n      accessor: rec => rec.value.borrower === user.org ? formatter.number(rec.value.amount) : '',\n      Footer: (\n        formatter.number(data.reduce((acc, rec) => acc + (rec.value.borrower === user.org ? rec.value.amount : 0), 0))\n      )\n    }, {\n      Header: 'Counterparty',\n      id: 'counterParty',\n      accessor: rec => formatter.org(rec.value.borrower === user.org ? rec.value.lender : rec.value.borrower)\n    }, {\n      Header: commonConstants.CURRENCY_SIGN,\n      id: 'total',\n      accessor: rec => {\n        const withBraces = rec.value.borrower === user.org;\n        return `${withBraces ? '(' : ''}${formatter.number(rec.value.amount)}${withBraces ? ')' : ''}`;\n      },\n      Footer: (\n        formatter.number(closingBalance)\n      )\n    }];\n\n    const interestColumns = [{\n      Header: 'Receivable, ' + commonConstants.CURRENCY_SIGN,\n      id: 'cashOut',\n      accessor: rec => rec.value.lender === user.org ? formatter.number(rec.value.amount/365*rec.value.rate) : '',\n      Footer: (\n        formatter.number(data.reduce((acc, rec) => acc + (rec.value.lender === user.org ? (rec.value.amount/365*rec.value.rate) : 0), 0))\n      )\n    }, {\n      Header: 'Payable, ' + commonConstants.CURRENCY_SIGN,\n      id: 'cashIn',\n      accessor: rec => rec.value.borrower === user.org ? formatter.number(rec.value.amount/365*rec.value.rate) : '',\n      Footer: (\n        formatter.number(data.reduce((acc, rec) => acc + (rec.value.borrower === user.org ? (rec.value.amount/365*rec.value.rate) : 0), 0))\n      )\n    }, {\n      Header: 'Counterparty',\n      id: 'counterParty',\n      accessor: rec => formatter.org(rec.value.borrower === user.org ? rec.value.lender : rec.value.borrower)\n    }, {\n      Header: 'Value Date',\n      id: 'value.timestamp',\n      accessor: rec => formatter.date(new Date((rec.value.timestamp + 24 * 60 * 60) * 1000))\n    }];\n\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"col col-form-label\">\n            <button className=\"btn\" onClick={this.refreshData}>Refresh <i className=\"fas fa-sync\"/></button>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <h3>Aftermarket clearing</h3>\n            {!!data.length && <ReactTable\n              columns={clearingColumns}\n              data={data}\n              className=\"-striped -highlight\"\n              defaultPageSize={deals.items.length + 1}\n              filterable={false}\n              showPagination={false}\n              defaultSorted={[\n                {\n                  id: \"cashOut\",\n                  desc: true\n                }\n              ]}\n            />}\n            <h5 className=\"mt-2\">Closing balance:\n              <span className={closingBalance < 0 ? 'text-danger' : 'text-success'}>\n                {` ${formatter.number(closingBalance)} ${commonConstants.CURRENCY_SIGN}`}\n              </span>\n            </h5>\n          </div>\n\n          <div className=\"col\">\n            <h3>Interest netting</h3>\n            {!!data.length && <ReactTable\n              columns={interestColumns}\n              data={data}\n              className=\"-striped -highlight\"\n              defaultPageSize={deals.items.length + 1}\n              filterable={false}\n              showPagination={false}\n              defaultSorted={[\n                {\n                  id: \"cashOut\",\n                  desc: true\n                }\n              ]}\n            />}\n            <h5 className=\"mt-2\">Netted:\n              <span className={netted < 0 ? 'text-danger' : 'text-success'}>\n                {` ${formatter.number(netted)} ${commonConstants.CURRENCY_SIGN}`}\n              </span>\n            </h5>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {bids, deals, authentication, modals} = state;\n  const {user} = authentication;\n  return {\n    user,\n    deals,\n    modals\n  };\n}\n\nconst connected = connect(mapStateToProps)(SummaryPage);\nexport {connected as SummaryPage};\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {Chart, DealsTable, FilterContainer} from '../_components';\nimport {dealActions} from '../_actions';\nimport {formatter} from '../_helpers';\nimport {commonConstants} from '../_constants';\nimport moment from 'moment';\n\nconst parametersMap = {\n  from: \"fromDate\",\n  to: \"toDate\",\n  creator: \"myDeals\"\n};\n\nconst columns = [{\n  Header: 'Lender',\n  id: 'value.lender',\n  accessor: rec => formatter.org(rec.value.lender)\n}, {\n  Header: 'Borrower',\n  id: 'value.borrower',\n  accessor: rec => formatter.org(rec.value.borrower)\n}, {\n  Header: 'Amount, ' + commonConstants.CURRENCY_SIGN,\n  id: 'value.amount',\n  accessor: rec => formatter.number(rec.value.amount)\n}, {\n  Header: 'Rate, ' + commonConstants.RATE_SIGN,\n  id: 'value.rate',\n  accessor: rec => formatter.rate(rec.value.rate)\n}, {\n  Header: 'Date & Time',\n  id: 'value.timestamp',\n  accessor: rec => formatter.datetime(new Date(rec.value.timestamp * 1000))\n}];\n\nconst propertyFilterContainer = [\n  {\n    type: \"DatePicker\",\n    label: \"From\",\n    state: {nameProp: \"selected\", name: parametersMap.from, value: moment()},\n    properties: {\n      isClearable: \"true\"\n    }\n  },\n  {\n    type: \"DatePicker\",\n    label: \"To\",\n    state: {nameProp: \"selected\", name: parametersMap.to, value: moment()},\n    properties: {\n      isClearable: \"true\"\n    }\n  },\n  {\n    type: \"CheckBox\",\n    label: \"\",\n    state: {nameProp: \"checked\", name: parametersMap.creator, value: false},\n    properties: {\n      label: \"Only my Deals\"\n    }\n  }\n];\n\nclass DealsPage extends React.Component {\n\n  componentDidMount() {\n    this.timerId = setInterval(this.refreshData.bind(this, true), 50000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerId);\n  }\n\n  refreshData(shadowMode) {\n    this.props.dispatch(dealActions.getAll(shadowMode));\n  }\n\n  handleSubmit(event, parameters) {\n    event.preventDefault();\n\n    Object.keys(parameters).map(function(key) {\n      parameters[key] = parameters[key] === null ? '0'  : parameters[key];\n    });\n\n    parameters[parametersMap.creator] ?\n      this.props.dispatch(dealActions.getForCreatorByPeriod([parameters[parametersMap.from], parameters[parametersMap.to]]))\n      : this.props.dispatch(dealActions.getByPeriod([parameters[parametersMap.from], parameters[parametersMap.to]]));\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <FilterContainer propertyFilterContainer={propertyFilterContainer}\n                             handleSubmit={this.handleSubmit.bind(this)}/>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <DealsTable columns={columns}/>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <Chart formatXAxis={formatter.datetime} lineType=\"liner\"/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {deals, authentication} = state;\n  const {user} = authentication;\n  return {\n    user,\n    deals\n  };\n}\n\nconst connected = connect(mapStateToProps)(DealsPage);\nexport {connected as DealsPage};\n","import {HomePage, LoginPage, SummaryPage, DealsPage} from '../_pages';\n\nexport const publicRoutes = [{\n  component: HomePage,\n  path: '/'\n}, {\n  component: LoginPage,\n  path: '/login'\n}, {\n  component: DealsPage,\n  path: '/deals'\n}];\n\nexport const privateRoutes = [{\n  component: SummaryPage,\n  path: '/summary'\n}];\n","import React from 'react';\nimport {Route, Switch, HashRouter} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport {ScaleLoader} from 'react-spinners';\n\nimport {history} from '../_helpers';\nimport {alertActions, configActions} from '../_actions';\nimport {Footer, Header, Main} from '../Layout';\nimport {publicRoutes, privateRoutes} from './routes';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const {dispatch} = this.props;\n    history.listen((location, action) => {\n      // clear alert on location change\n      dispatch(alertActions.clear());\n    });\n    dispatch(configActions.get());\n  }\n\n  render() {\n    const {config, loading} = this.props;\n    if (!config) {\n      return null;\n    }\n\n    return (\n      <HashRouter>\n        <Switch>\n          {publicRoutes.concat(privateRoutes).map((route, key) => {\n            const {component, path} = route;\n            return (\n              <Route\n                exact\n                path={path}\n                key={key}\n                render={(route) =>\n                  <div>\n                    <Header route={route}/>\n                    <div className={'overlay d-flex justify-content-center align-items-center ' + (!!loading ? 'visible' : 'invisible')}>\n                      <ScaleLoader loading={!!loading} />\n                    </div>\n                    <Main component={component} route={route} config={config}/>\n                    <Footer/>\n                  </div>}\n              />\n            )\n          })}\n        </Switch>\n      </HashRouter>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {config, loading} = state;\n  return {\n    config,\n    loading\n  };\n}\n\nconst connectedApp = connect(mapStateToProps)(App);\nexport {connectedApp as App};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport '../node_modules/rc-switch/assets/index.css';\nimport {App} from './App';\n//import registerServiceWorker from './registerServiceWorker';\nimport {Provider} from 'react-redux';\n\nimport {store} from './_helpers';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App/>\n  </Provider>,\n  document.getElementById('app'));\n// registerServiceWorker();\n"],"sourceRoot":""}