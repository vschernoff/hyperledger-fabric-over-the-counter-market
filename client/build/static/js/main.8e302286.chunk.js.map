{"version":3,"sources":["static/AltorosLogo_mini1.png","_constants/alert.constants.js","_constants/config.constants.js","_constants/common.constants.js","_constants/user.constants.js","_constants/deal.constants.js","_constants/order.constants.js","_constants/org.constants.js","_constants/modal.constants.js","_constants/rates.constants.js","_helpers/formatter.js","_helpers/history.js","_helpers/user-store.js","_reducers/authentication.reducer.js","_reducers/index.js","_services/config.service.js","_reducers/alert.reducer.js","_reducers/loading.reducer.js","_reducers/deals.reducer.js","_reducers/config.reducer.js","_reducers/orders.reducer.js","_reducers/modals.reducer.js","_helpers/store.js","_services/api.service.js","_services/auth.service.js","_helpers/request.js","_actions/alert.actions.js","_services/user.service.js","_services/deal.service.js","_services/order.service.js","_services/socket.service.js","_actions/config.actions.js","_actions/modal.actions.js","_actions/user.actions.js","_actions/deal.actions.js","_actions/order.actions.js","Layout/Footer.jsx","Layout/Header.jsx","_components/AddOrder.jsx","_components/Chart.jsx","_components/DealsTable.jsx","_components/HistoryTable.jsx","_components/Modal.jsx","_components/Notification.jsx","_components/OrdersTable.jsx","_components/secondary/CheckBox.jsx","_components/FilterContainer.jsx","Layout/Main.jsx","_pages/HomePage.jsx","_pages/LoginPage.jsx","_pages/SummaryPage.jsx","_pages/DealsPage.jsx","App/routes.js","App/App.jsx","index.js"],"names":["module","exports","alertConstants","SUCCESS","ERROR","CLEAR","configConstants","FAILURE","commonConstants","userConstants","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","stages","dealConstants","forEach","action","stage","key","concat","toUpperCase","orderConstants","GET_ALL_REQUEST","GET_ALL_SUCCESS","GET_ALL_FAILURE","ADD_REQUEST","ADD_SUCCESS","ADD_FAILURE","EDIT_REQUEST","EDIT_SUCCESS","EDIT_FAILURE","ACCEPT_REQUEST","ACCEPT_SUCCESS","ACCEPT_FAILURE","CANCEL_REQUEST","CANCEL_SUCCESS","CANCEL_FAILURE","HISTORY_REQUEST","HISTORY_SUCCESS","HISTORY_FAILURE","orgConstants","a","b","c","d","e","f","g","h","modalConstants","SHOW","HIDE","SET_DATA","modalIds","DEFAULT_RATES","formatter","rate","val","Number","toFixed","number","toLocaleString","date","toLocaleDateString","time","toLocaleTimeString","org","orgKey","datetime","history","createHashHistory","userKey","tokenKey","set","user","localStorage","setItem","JSON","stringify","token","get","data","getItem","parse","clear","removeItem","userStore","initialState","loggedIn","push","reqPromise","rootReducer","combineReducers","authentication","state","arguments","length","undefined","type","loggingIn","alert","message","loading","shadowMode","startMatches","exec","endMatches","deals","today","Date","setHours","setMinutes","setSeconds","setMilliseconds","GETALL_REQUEST","Object","objectSpread","adding","GETALL_SUCCESS","result","filter","r","value","timestamp","getTime","items","GETALL_FAILURE","error","GETBYPERIOD_REQUEST","GETBYPERIOD_SUCCESS","resultGetByPeriod","GETBYPERIOD_FAILURE","GETFORCREATORBYPERIOD_REQUEST","GETFORCREATORBYPERIOD_SUCCESS","resultGetForCreatorByPeriod","GETFORCREATORBYPERIOD_FAILURE","config","orders","REJECT_REQUEST","REJECT_SUCCESS","REJECT_FAILURE","modals","modalId","rest","objectWithoutProperties","defineProperty","show","loggerMiddleware","createLogger","store","createStore","applyMiddleware","thunkMiddleware","configService","load","isFetching","sendRequest","method","then","res","localConfig","update","Promise","all","getPeers","_getPeer","query","channel","chaincode","fcn","args","params","peer","join","url","URL","window","location","origin","keys","searchParams","append","href","invoke","map","arg","requestOptions","body","peers","login","retry","username","name","orgName","promise","authService","obtainToken","fetching","_callee","regenerator_default","wrap","_context","prev","next","reload","abrupt","resolve","catch","reject","stop","this","forwardRequestByError","401","timeout","fnc","bind","500","_parseMessage","input","_input$replace$split","replace","split","slicedToArray","_x","_sendRequest","apply","options","response","retryParams","_args","headers","updateHeaders","fetch","sent","ok","status","retryPromise","json","statusText","Error","attempt","asyncFn","resolveFn","rejectFn","setTimeout","authHeader","Authorization","headerObj","Content-Type","TIMEOUT","alertActions","success","dispatch","userService","logout","dealService","getAll","getByPeriod","getForCreatorByPeriod","ACTIONS","CHAINCODES","reference","CHANNELS","common","apiService","_callee2","period","_context2","_callee3","_context3","orderService","add","edit","accept","cancel","order","amount","id","_callee4","_context4","_callee5","_context5","socketService","subscribe","callback","socket","WebSocket","host","onopen","send","event","onmessage","eventData","console","log","event_type","configActions","failure","toString","modalActions","register","object","hide","userActions","dealActions","deal","_","request","products","orderActions","requests","comment","Footer","_React$Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","now","getFullYear","react_default","createElement","className","target","rel","React","Component","Header","props","src","logo","alt","NavLink","exact","to","connected","connect","rateOptions","reverse","v","label","AddOrder","_this","initData","call","submitted","assertThisInitialized","handleChange","handleSubmit","changeType","changeRate","setSubmitFn","amountInput","focus","newV","setState","_event$target","preventDefault","_this2","_this$state","onSubmit","htmlFor","ref","onChange","Creatable_default","isClearable","placeholder","components","Control","react_select_esm","assign","es_default","checkedChildren","unCheckedChildren","LineBarAreaComposedChart","_this$props","_this$props$formatXAx","formatXAxis","_this$props$lineType","lineType","ts","sort","ResponsiveContainer","width","height","ComposedChart","margin","top","right","bottom","left","CartesianGrid","stroke","XAxis","dataKey","YAxis","yAxisId","tickFormatter","unit","interval","ticks","orientation","Tooltip","Legend","Bar","barSize","fill","Line","DEFAULT_COLUMNS","accessor","rec","lender","borrower","DealsTable","refreshData","refreshDataDefault","columns","react_table_es","defaultPageSize","minWidth","filterable","defaultSorted","desc","customStyles","content","cursor","background-color","overlay","z-index","Modal","handleCloseModal","fn","_this$props2","_this$props3","children","_this$props3$footer","footer","_this$props3$submitTe","submitText","modalProps","lib_default","isOpen","style","tabIndex","role","display","large","title","aria-label","onClick","aria-hidden","Children","child","cloneElement","modal","Notification","OrdersTable","makeDeal","cancelBid","i","creator","sortMethod","parseFloat","Cell","row","record","original","index_es","fixedWidth","icon","faHandshake","open","faPen","faTimes","getTrProps","rowInfo","font-weight","CheckBox","checked","DatePicker","FilterContainer","setParams","filterStates","instruments","element","prepareFilterStates","prevState","parameters","moment","isMoment","format","defaultValue","prepareSubmit","Instrument","index","proporties","properties","nameProp","Main","route","component","Notification_connected","HomePage","prevProps","Modal_connected","AddOrder_connected","OrdersTable_connected","DealsTable_connected","Chart_connected","LoginPage","_this$setState","_e$target","_this2$state","SummaryPage","closingBalance","reduce","acc","netted","clearingColumns","withBraces","interestColumns","showPagination","parametersMap","itemsFilterContainer","autoComplete","DealsPage","fnName","filterParams","FilterContainer_connected","publicRoutes","path","privateRoutes","App","listen","HashRouter","Switch","Route","render","react_spinners","Main_connected","Footer_Footer","connectedApp","ReactDOM","es","document","getElementById"],"mappings":"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","file":"static/js/main.8e302286.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","export const alertConstants = {\n  SUCCESS: 'ALERT_SUCCESS',\n  ERROR: 'ALERT_ERROR',\n  CLEAR: 'ALERT_CLEAR'\n};\n","export const configConstants = {\n  SUCCESS: 'CONFIG_SUCCESS',\n  FAILURE: 'CONFIG_FAILURE'\n};","export const commonConstants = {\n  CURRENCY_SIGN: '$ MLN',\n  RATE_SIGN: '%'\n};","export const userConstants = {\n  LOGIN_REQUEST: 'USERS_LOGIN_REQUEST',\n  LOGIN_SUCCESS: 'USERS_LOGIN_SUCCESS',\n  LOGIN_FAILURE: 'USERS_LOGIN_FAILURE',\n\n  LOGOUT: 'USERS_LOGOUT'\n};\n","const stages = ['request', 'success', 'failure'];\nconst actions = ['login', 'getall', 'add', 'edit', 'history', 'getbyperiod', 'getforcreatorbyperiod'];\n\nexport const dealConstants = {};\nactions.forEach(action => {\n  stages.forEach(stage => {\n    const key = `${action.toUpperCase()}_${stage.toUpperCase()}`;\n    dealConstants[key] = 'DEAL_' + key;\n  });\n});\n","export const orderConstants = {\n  GET_ALL_REQUEST: 'ORDERS_GET_ALL_REQUEST',\n  GET_ALL_SUCCESS: 'ORDERS_GET_ALL_SUCCESS',\n  GET_ALL_FAILURE: 'ORDERS_GET_ALL_FAILURE',\n\n  ADD_REQUEST: 'ORDERS_ADD_REQUEST',\n  ADD_SUCCESS: 'ORDERS_ADD_SUCCESS',\n  ADD_FAILURE: 'ORDERS_ADD_FAILURE',\n\n  EDIT_REQUEST: 'ORDERS_EDIT_REQUEST',\n  EDIT_SUCCESS: 'ORDERS_EDIT_SUCCESS',\n  EDIT_FAILURE: 'ORDERS_EDIT_FAILURE',\n\n  ACCEPT_REQUEST: 'ORDERS_ACCEPT_REQUEST',\n  ACCEPT_SUCCESS: 'ORDERS_ACCEPT_SUCCESS',\n  ACCEPT_FAILURE: 'ORDERS_ACCEPT_FAILURE',\n\n  CANCEL_REQUEST: 'ORDERS_CANCEL_REQUEST',\n  CANCEL_SUCCESS: 'ORDERS_CANCEL_SUCCESS',\n  CANCEL_FAILURE: 'ORDERS_CANCEL_FAILURE',\n\n  HISTORY_REQUEST: 'ORDERS_HISTORY_REQUEST',\n  HISTORY_SUCCESS: 'ORDERS_HISTORY_SUCCESS',\n  HISTORY_FAILURE: 'ORDERS_HISTORY_FAILURE',\n};\n","export const orgConstants = {\n  a: 'SWIZ',\n  b: 'TICI',\n  c: 'NAMU',\n  d: 'HBSZ',\n  e: 'NYBO',\n  f: 'DUCE',\n  g: 'SWIZ',\n  h: 'SBRE'\n};\n","export const modalConstants = {\n  SHOW: 'MODAL_SHOW',\n  HIDE: 'MODAL_HIDE',\n  SET_DATA: 'MODAL_SET_DATA'\n};\n\nexport const modalIds = {\n  addOrder: 'addOrder',\n  editOrder: 'editOrder'\n};","export const DEFAULT_RATES = [0.125, 0.250, 0.375, 0.500, 0.625, 0.750, 0.875, 1.000];","// @flow\nimport {orgConstants} from '../_constants';\n\nexport const formatter = {\n  rate: (val: string | number) => Number(val).toFixed(3),\n  number: (val: string| number) => Number(val).toLocaleString(),\n  date: (date: Date) => date.toLocaleDateString(),\n  time: (date: Date) => date.toLocaleTimeString(),\n  org: (orgKey: string) => orgConstants[orgKey] || '###',\n  datetime: (date: Date) => date.toLocaleString()\n};\n","import {createHashHistory} from 'history';\n\nexport const history = createHashHistory();","// @flow\nimport type {User} from '../_types';\n\nconst userKey = 'user';\nconst tokenKey = 'token';\n\nexport function set(user: User): void {\n  localStorage.setItem(userKey, JSON.stringify(user));\n  localStorage.setItem(tokenKey, user.token);\n}\n\nexport function get(): ?User {\n  const data = localStorage.getItem(userKey);\n  if (data) {\n    return JSON.parse(data);\n  }\n  return null;\n}\n\nexport function clear(): void {\n  localStorage.removeItem(userKey);\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getToken(): ?string {\n  return localStorage.getItem(tokenKey);\n}","// @flow\nimport {userConstants} from '../_constants';\nimport {history} from '../_helpers';\nimport * as userStore from '../_helpers/user-store';\nimport type {UserAction, State} from '../_types';\n\nlet user = userStore.get();\nconst initialState = user ? {loggedIn: true, user} : {};\nif (!user) {\n  history.push('./login');\n}\n\nexport function authentication(state: State = initialState, action: UserAction) {\n  switch (action.type) {\n    case userConstants.LOGIN_REQUEST:\n      return {\n        loggingIn: true,\n        user: action.user\n      };\n    case userConstants.LOGIN_SUCCESS:\n      return {\n        loggedIn: true,\n        user: action.user\n      };\n    case userConstants.LOGIN_FAILURE:\n      return {};\n    case userConstants.LOGOUT:\n      return {};\n    default:\n      return state;\n  }\n}","import {combineReducers} from 'redux';\n\nimport {authentication} from './authentication.reducer';\nimport {alert} from './alert.reducer';\nimport {config} from './config.reducer';\nimport {loading} from './loading.reducer';\nimport {deals} from './deals.reducer';\nimport {orders} from './orders.reducer';\nimport {modals} from './modals.reducer';\n\nconst rootReducer = combineReducers({\n  authentication,\n  alert,\n  loading,\n  deals,\n  config,\n  orders,\n  modals\n});\n\nexport default rootReducer;","// @flow\nimport {config} from './api.service';\nimport type {Config} from '../_types';\n\nexport const configService = {\n  load,\n  get,\n  update,\n  getPeers\n};\n\nlet localConfig: Config = {\n  org: ''\n};\nlet isFetching: boolean = false;\nlet reqPromise: Promise<Config>;\n\nfunction get(): Config {\n  return localConfig;\n}\n\nfunction load(): Promise<Config> {\n  if (isFetching) {\n    return reqPromise;\n  }\n  isFetching = true;\n\n  reqPromise = config()\n      .then(res => {\n        localConfig = res;\n        return localConfig;\n      });\n\n  return reqPromise;\n}\n\n// load secured information, like chaincodes, channels\nfunction update(): Promise<any> {\n  return Promise.all([]);\n}\n\nfunction getPeers(): string[] {\n  return ['peer0'];\n}\n","// @flow\nimport {alertConstants} from '../_constants';\nimport type {Action, State} from '../_types';\n\nexport function alert(state: State = {}, action: Action): State {\n\n  switch (action.type) {\n    case alertConstants.SUCCESS:\n      return {\n        type: 'alert-success',\n        message: action.message\n      };\n    case alertConstants.ERROR:\n      return {\n        type: 'alert-danger',\n        message: action.message\n      };\n    case alertConstants.CLEAR:\n      return {};\n    default:\n      return state;\n  }\n}","export function loading(state = false, action) {\n  const { type, shadowMode } = action;\n\n  if (shadowMode) {\n    return false;\n  }\n  const startMatches = /(.*)_(REQUEST)/.exec(type);\n  const endMatches = /(.*)_(SUCCESS|FAILURE)/.exec(type);\n\n  if (!startMatches && !endMatches) return state;\n\n  return !!startMatches || !endMatches;\n}\n","import {dealConstants} from '../_constants';\n\nexport function deals(state = {}, action) {\n  const today = new Date();\n  today.setHours(0);\n  today.setMinutes(0);\n  today.setSeconds(0);\n  today.setMilliseconds(0);\n\n  switch (action.type) {\n    case dealConstants.GETALL_REQUEST:\n      return {...state, ...{\n        loading: true,\n        adding: undefined\n      }};\n    case dealConstants.GETALL_SUCCESS:\n      const result = action.deals && action.deals.result &&\n        action.deals.result.filter(r => r.value.timestamp * 1000 > today.getTime());\n\n      return {...state, ...{\n        items: result,\n        loading: false\n      }};\n    case dealConstants.GETALL_FAILURE:\n      return {...state, ...{\n        error: action.error,\n        loading: false\n      }};\n    case dealConstants.GETBYPERIOD_REQUEST:\n      return {...state, ...{\n          loading: true,\n          adding: undefined\n        }};\n    case dealConstants.GETBYPERIOD_SUCCESS:\n      const resultGetByPeriod = action.deals && action.deals.result &&\n        action.deals.result.filter(r => r.value.timestamp * 1000 > today.getTime());\n\n      return {...state, ...{\n        items: resultGetByPeriod,\n        loading: false\n      }};\n    case dealConstants.GETBYPERIOD_FAILURE:\n      return {...state, ...{\n        error: action.error,\n        loading: false\n      }};\n    case dealConstants.GETFORCREATORBYPERIOD_REQUEST:\n      return {...state, ...{\n          loading: true,\n          adding: undefined\n        }};\n    case dealConstants.GETFORCREATORBYPERIOD_SUCCESS:\n      const resultGetForCreatorByPeriod = action.deals && action.deals.result &&\n        action.deals.result.filter(r => r.value.timestamp * 1000 > today.getTime());\n\n      return {...state, ...{\n        items: resultGetForCreatorByPeriod,\n        loading: false\n      }};\n    case dealConstants.GETFORCREATORBYPERIOD_FAILURE:\n      return {...state, ...{\n        error: action.error,\n        loading: false\n      }};\n    case dealConstants.ADD_REQUEST:\n      return {...state, ...{\n        adding: true\n      }};\n    case dealConstants.ADD_SUCCESS:\n      return {...state, ...{\n        adding: false\n      }};\n    case dealConstants.ADD_FAILURE:\n      return {...state, ...{\n        error: action.error\n      }};\n    case dealConstants.EDIT_REQUEST:\n      return {...state, ...{\n        adding: true\n      }};\n    case dealConstants.EDIT_SUCCESS:\n      return {...state, ...{\n        adding: false\n      }};\n    case dealConstants.EDIT_FAILURE:\n      return {...state, ...{\n        error: action.error\n      }};\n    case dealConstants.HISTORY_REQUEST:\n      return {...state, ...{\n        loading: true\n      }};\n    case dealConstants.HISTORY_SUCCESS:\n      return {...state, ...{\n        history: {\n          //[action.product.key.name]: action.history.result\n        },\n        loading: false\n      }};\n    case dealConstants.HISTORY_FAILURE:\n      return {...state, ...{\n        error: action.error,\n        loading: false\n      }};\n\n    default:\n      return state;\n  }\n}\n","import {configConstants} from '../_constants';\nimport type {ConfigAction, State} from '../_types';\n\nexport function config(state: State = null, action: ConfigAction): State {\n  switch (action.type) {\n    case configConstants.SUCCESS:\n      return action.config;\n    default:\n      return state;\n  }\n}","import {orderConstants} from '../_constants';\n\nexport function orders(state = {}, action) {\n  switch (action.type) {\n    case orderConstants.GET_ALL_REQUEST:\n      return {...state, ...{\n        adding: undefined,\n        loading: true\n      }};\n    case orderConstants.GET_ALL_SUCCESS:\n      return {...state, ...{\n        items: action.orders.result,\n        loading: false\n      }};\n    case orderConstants.GET_ALL_FAILURE:\n      return {...state, ...{\n        error: action.error,\n        loading: false\n      }};\n    case orderConstants.ADD_REQUEST:\n      return {...state, ...{\n        adding: true\n      }};\n    case orderConstants.ADD_SUCCESS:\n      return {...state, ...{\n        adding: false\n      }};\n    case orderConstants.ADD_FAILURE:\n      return {...state, ...{\n        error: action.error\n      }};\n    case orderConstants.EDIT_REQUEST:\n      return {...state, ...{\n        adding: true\n      }};\n    case orderConstants.EDIT_SUCCESS:\n      return {...state, ...{\n        adding: false\n      }};\n    case orderConstants.EDIT_FAILURE:\n      return {...state, ...{\n        error: action.error\n      }};\n    case orderConstants.ACCEPT_REQUEST:\n      return {...state, ...{\n        loading: true\n      }};\n    case orderConstants.ACCEPT_SUCCESS:\n      return {...state, ...{\n        adding: false,\n        loading: false\n      }};\n    case orderConstants.ACCEPT_FAILURE:\n      return {...state, ...{\n        error: action.error,\n        loading: false\n      }};\n    case orderConstants.REJECT_REQUEST:\n      return {...state, ...{\n        loading: true\n      }};\n    case orderConstants.REJECT_SUCCESS:\n      return {...state, ...{\n        adding: false,\n        loading: false\n      }};\n    case orderConstants.REJECT_FAILURE:\n      return {...state, ...{\n        error: action.error,\n        loading: false\n      }};\n    case orderConstants.HISTORY_REQUEST:\n      return {...state, ...{\n        loading: true\n      }};\n    case orderConstants.HISTORY_SUCCESS:\n      return {...state, ...{\n        history: {\n          //[action.req.key.productKey]: action.history.result\n        },\n        loading: false\n      }};\n    case orderConstants.HISTORY_FAILURE:\n      return {...state, ...{\n        error: action.error,\n        loading: false\n      }};\n    default:\n      return state\n  }\n}","import {modalConstants} from '../_constants';\n\nexport function modals(state = {}, action) {\n  const {modalId, type, ...rest} = action;\n  switch (type) {\n    case modalConstants.SHOW:\n    case modalConstants.HIDE: {\n      return {\n        ...state,\n        ...{\n          [modalId]: {\n            ...state[modalId],\n            ...rest,\n            show: type === modalConstants.SHOW\n          }\n        }\n      }\n    }\n    case modalConstants.SET_DATA: {\n      return {\n        ...state,\n        ...{\n          [modalId]: {\n            ...state[modalId],\n            ...rest\n          }\n        }\n      }\n    }\n    default: return state;\n  }\n}","import {createStore, applyMiddleware} from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport {createLogger} from 'redux-logger';\nimport rootReducer from '../_reducers';\n\nconst loggerMiddleware = createLogger();\n\nexport const store = createStore(\n  rootReducer,\n  applyMiddleware(\n    thunkMiddleware,\n    loggerMiddleware\n  )\n);","// @flow\nimport {sendRequest} from '../_helpers/request';\nimport {configService} from './config.service';\n\ntype LoginResponse = {\n  token: string\n}\n\nfunction _getPeer(): string {\n  return configService.getPeers()[0];\n}\n\nexport function query(channel: string, chaincode: string, fcn: string, args: any[] = []): * {\n  const requestOptions = {\n    method: 'GET'\n  };\n  const {org} = configService.get();\n  const params = {\n    peer: `${org}/${_getPeer()}`,\n    fcn,\n    args: args.join(\",\")\n  };\n\n  const url = new URL(`${window.location.origin}/api/channels/${channel}/chaincodes/${chaincode}`);\n\n  Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\n  return sendRequest(`${url.href}`, requestOptions);\n}\n\nexport function invoke(channel: string, chaincode: string, fcn: string, args: any[] = []): * {\n  const {org} = configService.get();\n  args = args.map(arg => arg + '');\n  const requestOptions = {\n    method: 'POST',\n    body: JSON.stringify({\n      peers: [`${org}/${_getPeer()}`],\n      fcn,\n      args\n    })\n  };\n\n  return sendRequest(`/api/channels/${channel}/chaincodes/${chaincode}`, requestOptions);\n}\n\nexport function login(user: Object, retry?: boolean = true): Promise<LoginResponse> {\n  const requestOptions = {\n    method: 'POST',\n    body: JSON.stringify({username: user.name, orgName: user.org})\n  };\n\n  return sendRequest(`/api/users`, requestOptions, retry);\n}\n\nexport function extendConfig(): * {\n  return configService.update();\n}\n\nexport function config(): * {\n  const requestOptions = {\n    method: 'GET'\n  };\n\n  return sendRequest(`/api/config`, requestOptions);\n}\n","// @flow\nimport {set, get, clear} from '../_helpers';\nimport {login, extendConfig} from './api.service';\nimport type {User} from '../_types';\n\nexport const authService = {\n  obtainToken\n};\nlet fetching = false;\nlet promise;\nasync function obtainToken(): Promise<User | any> {\n  const user = get();\n  if (!user) {\n    fetching = false;\n    clear();\n    window.location.reload(true);\n    return Promise.resolve();\n  }\n  if (fetching) {\n    return promise;\n  }\n  fetching = true;\n  promise = login(user, false)\n    .then(res => {\n      fetching = false;\n      if (res.token) {\n        user.token = res.token;\n        set(user);\n      }\n\n      return extendConfig()\n        .then(() => {\n          return user;\n        });\n    })\n    .catch(e => {\n      fetching = false;\n      return Promise.reject(e);\n    });\n\n  return promise;\n}\n","// @flow\nimport {authService} from '../_services/auth.service';\nimport {getToken} from './user-store';\n\nconst forwardRequestByError = {\n  '401': {\n    retry: 3,\n    timeout: 1000,\n    fnc: authService.obtainToken.bind(authService)\n  },\n  '500': {\n    retry: 5,\n    timeout: 3000,\n    fnc: Promise.resolve.bind(Promise)\n  }\n};\n\nfunction _parseMessage(input: string = ''): string {\n  const [, detailedMsg] = input.replace(')', '').split('message: ');\n  return detailedMsg || input;\n}\n\nexport async function sendRequest(url: string, options: Object = {}, retry: boolean = true): Promise<any> {\n  options.headers = updateHeaders(options.headers);\n\n  const response = await fetch(url, options);\n  if (!response.ok) {\n    const retryParams = forwardRequestByError[response.status];\n    if (retryParams && retry) {\n      await retryParams.fnc();\n      return await retryPromise(url, options, retryParams.timeout, retryParams.retry);\n    } else {\n      const data = await response.json();\n      const error = (data && data.message && _parseMessage(data.message)) || response.statusText;\n      return Promise.reject(new Error(error));\n    }\n  }\n\n  return await response.json();\n}\n\nfunction retry(asyncFn: Function, args: any[], timeout: number, attempt: number, resolveFn: Function, rejectFn: Function, e?: Error) {\n  if (attempt < 0) {\n    return rejectFn(e);\n  }\n  return asyncFn.apply(this, args)\n    .then(resolveFn)\n    .catch(e => {\n      attempt--;\n      setTimeout(() => {\n        retry(asyncFn, args, timeout, attempt, resolveFn, rejectFn, e);\n      }, timeout);\n    });\n}\n\nconst retryPromise = (url: string, options: Object, timeout: number, attempt: number) => {\n  return new Promise((resolve, reject) => {\n    retry(sendRequest, [url, options, false], timeout, attempt, resolve, reject)\n  });\n};\n\nfunction authHeader() {\n  let token = getToken();\n\n  if (token) {\n    return {'Authorization': 'Bearer ' + token};\n  } else {\n    return {};\n  }\n}\n\nfunction updateHeaders(headerObj = {}) {\n  return {...headerObj, ...authHeader(), ...{'Content-Type': 'application/json'}}\n}\n","// @flow\nimport {alertConstants} from '../_constants';\nimport type {Action, ThunkAction, Dispatch} from '../_types/Redux';\n\nconst TIMEOUT = 5000;\nexport const alertActions = {\n  success,\n  error,\n  clear\n};\n\nfunction success(message: string): ThunkAction {\n  return (dispatch: Dispatch) => {\n    setTimeout(() => {dispatch(clear())}, TIMEOUT);\n    return dispatch({type: alertConstants.SUCCESS, message});\n  };\n}\n\nfunction error(message: string): ThunkAction {\n  return (dispatch: Dispatch) => {\n    setTimeout(() => {dispatch(clear())}, TIMEOUT);\n    return dispatch({type: alertConstants.ERROR, message});\n  };\n}\n\nfunction clear(): Action {\n  return {type: alertConstants.CLEAR};\n}","// @flow\nimport {authService} from './auth.service';\nimport {set, clear} from '../_helpers';\n\nexport const userService = {\n  login,\n  logout\n};\n\nfunction login(username: string, orgName: string): * {\n  set({name: username, org: orgName});\n  return authService.obtainToken();\n}\n\nfunction logout() {\n  clear();\n}\n","// @flow\nimport * as apiService from './api.service';\nimport type {Deal, ListResponse} from '../_types';\n\nexport const dealService = {\n  getAll,\n  getByPeriod,\n  getForCreatorByPeriod\n};\n\nconst ACTIONS = {\n  getAll: 'queryDeals',\n  getByPeriod: 'queryDealsByPeriod',\n  getForCreatorByPeriod: 'queryDealsForCreatorByPeriod'\n};\n\nconst CHAINCODES = {\n  reference: 'reference'\n};\n\nconst CHANNELS = {\n  common: 'common'\n};\n\nasync function getAll(): Promise<ListResponse<Deal>> {\n  return await apiService.query(\n      CHANNELS.common,\n      CHAINCODES.reference,\n      ACTIONS.getAll);\n}\n\nasync function getByPeriod(period: string[]): Promise<ListResponse<Deal>> {\n  return await apiService.query(\n      CHANNELS.common,\n      CHAINCODES.reference,\n      ACTIONS.getByPeriod,\n      period);\n}\n\nasync function getForCreatorByPeriod(period: string[]): Promise<ListResponse<Deal>> {\n  return await apiService.query(\n      CHANNELS.common,\n      CHAINCODES.reference,\n      ACTIONS.getForCreatorByPeriod,\n      period);\n}\n","// @flow\nimport * as apiService from './api.service';\nimport type {Order, ListResponse} from '../_types';\nexport const orderService = {\n  getAll,\n  add,\n  edit,\n  accept,\n  cancel\n};\n\nconst ACTIONS = {\n  getAll: 'queryBids',\n  add: 'placeBid',\n  edit: 'editBid',\n  accept: 'makeDeal',\n  cancel: 'cancelBid'\n};\n\nconst CHAINCODES = {\n  reference: 'reference'\n};\n\nconst CHANNELS = {\n  common: 'common'\n};\n\nasync function getAll(): Promise<ListResponse<Order>> {\n  return apiService.query(\n    CHANNELS.common,\n    CHAINCODES.reference,\n    ACTIONS.getAll);\n}\n\nasync function add(order: Order): Promise<any> {\n  return apiService.invoke(\n    CHANNELS.common,\n    CHAINCODES.reference,\n    ACTIONS.add,\n    [order.value.type, order.value.amount, order.value.rate]\n  );\n}\n\nasync function edit(order: Order): Promise<any> {\n  return apiService.invoke(\n    CHANNELS.common,\n    CHAINCODES.reference,\n    ACTIONS.edit,\n    [order.key.id, 0, order.value.amount, order.value.rate]\n  );\n}\n\nasync function accept(order: Order): Promise<any> {\n  return apiService.invoke(\n    CHANNELS.common,\n    CHAINCODES.reference,\n    ACTIONS.accept,\n    [order.key.id]\n  );\n}\n\nasync function cancel(order: Order): Promise<any> {\n  return apiService.invoke(\n    CHANNELS.common,\n    CHAINCODES.reference,\n    ACTIONS.cancel,\n    [order.key.id]\n  );\n}\n","export const socketService = {\n  subscribe\n};\n\nfunction subscribe(callback) {\n  const socket = new WebSocket(`ws://${window.location.host}/api/notifications`);\n\n  socket.onopen = function() {\n    let subscribeMessage = {\n      event: \"block\",\n      channel: \"common\"\n    };\n\n    socket.send(JSON.stringify(subscribeMessage))\n  };\n\n  socket.onmessage = function (event) {\n\n    let eventData = JSON.parse(event.data);\n    console.log(eventData.event_type, eventData.event_type === \"block\");\n    if(eventData.event_type === \"block\") {\n      callback();\n    }\n  }\n}\n","// @flow\nimport {configConstants} from '../_constants';\nimport {configService} from '../_services';\nimport type {Action, ThunkAction, Dispatch, ErrorAction} from '../_types/Redux';\n\nexport const configActions = {\n  get\n};\n\ntype SuccessAction = Action & {config: {}};\n\nfunction get(): ThunkAction {\n  return (dispatch: Dispatch) => {\n    configService.load()\n      .then(\n         config => {\n          dispatch(success(config));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n        }\n      );\n  };\n\n  function success(config): SuccessAction {\n    return {type: configConstants.SUCCESS, config}\n  }\n  function failure(error): ErrorAction {\n    return {type: configConstants.FAILURE, error}\n  }\n}","// @flow\nimport {modalConstants} from '../_constants'\nimport type {Action} from '../_types';\n\nexport const modalActions = {\n  register,\n  show,\n  hide\n};\n\ntype ModalAction = Action & {modalId: string};\n\nfunction register(modalId: string): ModalAction {\n  return {type: modalConstants.HIDE, modalId};\n}\n\nfunction show(modalId: string, object: {}): ModalAction {\n  return {type: modalConstants.SHOW, modalId, object};\n}\n\nfunction hide(modalId: string): ModalAction {\n  return {type: modalConstants.HIDE, modalId};\n}","\nimport {userConstants} from '../_constants';\nimport {userService} from '../_services';\nimport {alertActions} from './';\nimport {history} from '../_helpers';\nimport type {Action, ThunkAction, Dispatch, ErrorAction, UserAction} from '../_types';\n\nexport const userActions = {\n  login,\n  logout\n};\n\nfunction login(username: string, orgName: string): ThunkAction {\n  return (dispatch: Dispatch) => {\n    dispatch(request({username}));\n\n    userService.login(username, orgName)\n      .then(\n        user => {\n          dispatch(success(user));\n          history.push('./');\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request(user): UserAction {\n    return {type: userConstants.LOGIN_REQUEST, user}\n  }\n\n  function success(user): UserAction {\n    return {type: userConstants.LOGIN_SUCCESS, user}\n  }\n\n  function failure(error): ErrorAction {\n    return {type: userConstants.LOGIN_FAILURE, error}\n  }\n}\n\nfunction logout(): ThunkAction {\n  return (dispatch: Dispatch) => {\n    userService.logout();\n    dispatch(success());\n  };\n\n  function success(): Action {\n    return {type: userConstants.LOGOUT};\n  }\n}","// @flow\nimport {dealConstants} from '../_constants';\nimport {dealService} from '../_services';\nimport {alertActions} from './';\nimport type {Action, ThunkAction, Dispatch, ErrorAction, Deal} from '../_types';\nimport type {ListResponse} from '../_types/Response';\n\n\nexport const dealActions = {\n  add,\n  edit,\n  getAll,\n  getByPeriod,\n  getForCreatorByPeriod\n};\n\ntype DealsAction = Action & {deals: ListResponse<Deal>};\n\nfunction add(deal: Deal): ThunkAction {\n  return (dispatch: Dispatch) => {\n    dispatch(request());\n    dealService.add(deal)\n      .then(\n        _ => {\n          dispatch(success());\n          dispatch(alertActions.success('Deal was added'));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request(): Action {\n    return {type: dealConstants.ADD_REQUEST}\n  }\n\n  function success(): Action {\n    return {type: dealConstants.ADD_SUCCESS}\n  }\n\n  function failure(error: string): ErrorAction {\n    return {type: dealConstants.ADD_FAILURE, error}\n  }\n}\n\nfunction edit(deal: Deal): ThunkAction {\n  return (dispatch: Dispatch) => {\n    dispatch(request());\n    dealService.edit(deal)\n      .then(\n        _ => {\n          dispatch(success());\n          dispatch(alertActions.success('Deal was updated'));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request(): Action {\n    return {type: dealConstants.EDIT_REQUEST}\n  }\n\n  function success(): Action {\n    return {type: dealConstants.EDIT_SUCCESS}\n  }\n\n  function failure(error: string): ErrorAction {\n    return {type: dealConstants.EDIT_FAILURE, error}\n  }\n}\n\nfunction getAll(shadowMode: boolean = false): ThunkAction {\n  return (dispatch: Dispatch) => {\n    dispatch(request(shadowMode));\n\n    dealService.getAll()\n      .then(\n        deals => {\n          dispatch(success(deals));\n        },\n        error => dispatch(failure(error.toString()))\n      );\n  };\n\n  function request(shadowMode: boolean): Action {\n    return {type: dealConstants.GETALL_REQUEST, shadowMode}\n  }\n\n  function success(deals: ListResponse<Deal>): DealsAction {\n    return {type: dealConstants.GETALL_SUCCESS, deals}\n  }\n\n  function failure(error: string): ErrorAction {\n    return {type: dealConstants.GETALL_FAILURE, error}\n  }\n}\n\nfunction getByPeriod(period: string[]): ThunkAction {\n  return (dispatch: Dispatch) => {\n    dispatch(request(period));\n\n    dealService.getByPeriod(period)\n      .then(\n        products => {\n          dispatch(success(products));\n        },\n        error => dispatch(failure(error.toString()))\n      );\n  };\n\n  function request(period: string[]): Action {\n    return {type: dealConstants.GETBYPERIOD_REQUEST, period}\n  }\n\n  function success(deals: ListResponse<Deal>): DealsAction {\n    return {type: dealConstants.GETBYPERIOD_SUCCESS, deals}\n  }\n\n  function failure(error: string): ErrorAction {\n    return {type: dealConstants.GETBYPERIOD_FAILURE, error}\n  }\n}\n\nfunction getForCreatorByPeriod(period: string[]): ThunkAction {\n  return (dispatch: Dispatch) => {\n    dispatch(request(period));\n\n    dealService.getForCreatorByPeriod(period)\n      .then(\n        deals => {\n          dispatch(success(deals));\n        },\n        error => dispatch(failure(error.toString()))\n      );\n  };\n\n  function request(period: string[]): Action {\n    return {type: dealConstants.GETFORCREATORBYPERIOD_REQUEST, period}\n  }\n\n  function success(deals: ListResponse<Deal>): DealsAction {\n    return {type: dealConstants.GETFORCREATORBYPERIOD_SUCCESS, deals}\n  }\n\n  function failure(error: string): ErrorAction {\n    return {type: dealConstants.GETFORCREATORBYPERIOD_FAILURE, error}\n  }\n}\n","\nimport {orderConstants} from '../_constants';\nimport {orderService} from '../_services';\nimport {alertActions} from './';\nimport type {Action, ThunkAction, Dispatch, ErrorAction, Order, ListResponse} from '../_types';\n\nexport const orderActions = {\n  getAll,\n  add,\n  edit,\n  accept,\n  cancel\n};\n\ntype OrdersAction = Action & {orders: ListResponse<Order>};\n\nfunction getAll(shadowMode: boolean = false): ThunkAction {\n  return (dispatch: Dispatch) => {\n    dispatch(request(shadowMode));\n    orderService.getAll()\n      .then(\n         requests => {\n          dispatch(success(requests));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request(shadowMode: boolean) {\n    return {type: orderConstants.GET_ALL_REQUEST, shadowMode}\n  }\n\n  function success(orders: ListResponse<Order>): OrdersAction {\n    return {type: orderConstants.GET_ALL_SUCCESS, orders}\n  }\n\n  function failure(error: string): ErrorAction {\n    return {type: orderConstants.GET_ALL_FAILURE, error}\n  }\n}\n\nfunction add(order: Order, comment: string): ThunkAction {\n  return (dispatch: Dispatch) => {\n    dispatch(request());\n    orderService.add(order, comment)\n      .then(\n        _ => {\n          dispatch(success());\n          dispatch(alertActions.success('Order was added'));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request(): Action {\n    return {type: orderConstants.ADD_REQUEST}\n  }\n\n  function success(): Action {\n    return {type: orderConstants.ADD_SUCCESS}\n  }\n\n  function failure(error): ErrorAction {\n    return {type: orderConstants.ADD_FAILURE, error}\n  }\n}\n\nfunction edit(order: Order): ThunkAction {\n  return (dispatch: Dispatch) => {\n    dispatch(request());\n    orderService.edit(order)\n      .then(\n        _ => {\n          dispatch(success());\n          dispatch(alertActions.success('Order was updated'));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request(): Action {\n    return {type: orderConstants.EDIT_REQUEST}\n  }\n\n  function success(): Action {\n    return {type: orderConstants.EDIT_SUCCESS}\n  }\n\n  function failure(error): ErrorAction {\n    return {type: orderConstants.EDIT_FAILURE, error}\n  }\n}\n\nfunction accept(order: Order): ThunkAction {\n  return (dispatch: Dispatch) => {\n    dispatch(request());\n    orderService.accept(order)\n      .then(\n        _ => {\n          dispatch(success());\n          dispatch(alertActions.success('Order was accepted'));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request(): Action {\n    return {type: orderConstants.ACCEPT_REQUEST}\n  }\n\n  function success(): Action {\n    return {type: orderConstants.ACCEPT_SUCCESS}\n  }\n\n  function failure(error): ErrorAction {\n    return {type: orderConstants.ACCEPT_FAILURE, error}\n  }\n}\n\nfunction cancel(order: Order): ThunkAction {\n  return (dispatch: Dispatch) => {\n    dispatch(request());\n    orderService.cancel(order)\n      .then(\n        _ => {\n          dispatch(success());\n          dispatch(alertActions.success('Order was cancelled'));\n        },\n        error => {\n          dispatch(failure(error.toString()));\n          dispatch(alertActions.error(error.toString()));\n        }\n      );\n  };\n\n  function request(): Action {\n    return {type: orderConstants.CANCEL_REQUEST}\n  }\n\n  function success(): Action {\n    return {type: orderConstants.CANCEL_SUCCESS}\n  }\n\n  function failure(error): ErrorAction {\n    return {type: orderConstants.CANCEL_FAILURE, error}\n  }\n}","import React from 'react';\n\nexport class Footer extends React.Component {\n  render() {\n    const now = new Date().getFullYear();\n    return (\n      <div className=\"text-center\">\n        <p>\n          <a href=\"http://altoros.com\" target=\"_blank\" rel=\"noopener noreferrer\">Altoros</a> &copy; {now}\n        </p>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport logo from '../static/AltorosLogo_mini1.png';\n\nimport {formatter} from '../_helpers';\n\nclass Header extends React.Component {\n  render() {\n    const {user} = this.props;\n    return (\n      <nav className=\"navbar navbar-light navbar-expand\">\n        <div className=\"navbar-brand\"><img src={logo} alt=\"logo\"/></div>\n        {user && <div className=\"container-fluid\">\n          <div className='ml-5'>Hi, <b>{user.name}</b> from <i>{formatter.org(user.org)}</i></div>\n          <ul className=\"nav navbar-nav pull-xs-right\">\n\n            <li className=\"nav-item\">\n              <NavLink exact to='/' className=\"nav-link\">\n                Dashboard\n              </NavLink>\n            </li>\n\n            <li className=\"nav-item\">\n              <NavLink to='/deals' className=\"nav-link\">\n                Deals\n              </NavLink>\n            </li>\n\n            <li className=\"nav-item\">\n              <NavLink to='/summary' className=\"nav-link\">\n                Summary\n              </NavLink>\n            </li>\n\n            <li className=\"nav-item\">\n              <NavLink to='login' className=\"nav-link\">\n                Logout\n              </NavLink>\n            </li>\n          </ul>\n        </div>}\n      </nav>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {user} = state.authentication;\n  return {\n    user\n  };\n}\n\nconst connected = connect(mapStateToProps)(Header);\nexport {connected as Header};\n","// @flow\nimport React from 'react';\nimport {connect} from 'react-redux';\nimport Switch from 'rc-switch';\nimport Creatable from 'react-select/lib/Creatable';\nimport {components} from 'react-select';\n\nimport type {Order} from '../_types';\nimport {orderActions} from '../_actions';\nimport {commonConstants, DEFAULT_RATES} from '../_constants';\n\ntype Props = {\n  dispatch: Function,\n  initData: Order | any,\n  setSubmitFn: Function\n};\ntype State = {\n  order: Order,\n  submitted: boolean\n};\n\nconst rateOptions = DEFAULT_RATES.reverse().map(v => ({\n  value: v + '', label: v + ''\n}));\n\nclass AddOrder extends React.Component<Props, State> {\n  amountInput: ?HTMLInputElement;\n\n  constructor(props) {\n    super(props);\n\n    const initData = this.props.initData || {\n      key: {},\n      value: {\n        amount: undefined,\n        rate: undefined,\n        type: 1,\n      }\n    };\n\n    this.state = {\n      order: initData,\n      submitted: false\n    };\n\n    (this:any).handleChange = this.handleChange.bind(this);\n    (this:any).handleSubmit = this.handleSubmit.bind(this);\n    (this:any).changeType = this.changeType.bind(this);\n    (this:any).changeRate = this.changeRate.bind(this);\n\n    //Modal integration\n    this.props.setSubmitFn && this.props.setSubmitFn(this.handleSubmit);\n  }\n\n  componentDidMount() {\n    const {amountInput} = this;\n    amountInput && amountInput.focus();\n  }\n\n  changeType(newV: boolean) {\n    const {order} = this.state;\n    this.setState({\n      order: {\n        ...order,\n        value: {\n          ...order.value,\n          type: newV === true ? 0 : 1\n        }\n      }\n    });\n  }\n\n  changeRate(newV: {value: string}) {\n    const {order} = this.state;\n    this.setState({\n      order: {\n        ...order,\n        value: {\n          ...order.value,\n          rate: (newV && newV.value) || ''\n        }\n      }\n    });\n  }\n\n  handleChange(event: SyntheticInputEvent<>) {\n    const {name, value} = event.target;\n    const {order} = this.state;\n    this.setState({\n      order: {\n        ...order,\n        value: {\n          ...order.value,\n          [name]: value\n        }\n      },\n      submitted: false\n    });\n  }\n\n  handleSubmit(event: SyntheticEvent<>) {\n    event.preventDefault();\n\n    this.setState({submitted: true});\n    const {order} = this.state;\n    if (order.value.amount && order.value.rate) {\n      this.props.dispatch(orderActions[order.key.id ? 'edit' : 'add'](order));\n    }\n  }\n\n\n  render() {\n    const {order, submitted} = this.state;\n    return (\n      <form name=\"form\" onSubmit={this.handleSubmit}>\n        <div className='form-group'>\n          <label htmlFor=\"amount\">Amount</label>\n\n          <div className='input-group'>\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">{commonConstants.CURRENCY_SIGN}</span>\n            </div>\n            <input type=\"text\" className={\"form-control\" + (submitted && !order.value.amount ? ' is-invalid' : '')}\n                      name=\"amount\" value={order.value.amount}\n                      ref={(input) => { this.amountInput = input; }}\n                      onChange={this.handleChange}/>\n            {submitted && !order.value.amount && <div className=\"text-danger invalid-feedback\">Amount is required</div>}\n          </div>\n        </div>\n        <Creatable\n          name=\"rate\"\n          isClearable\n          onChange={this.changeRate}\n          placeholder=\"Select or type any value...\"\n          options={rateOptions}\n          value={order.value.rate ? {value: order.value.rate, label: order.value.rate} : undefined}\n          components={{ Control: (props) => (\n            <div className='form-group'>\n              <label htmlFor=\"rate\">Rate</label>\n              <div className=\"input-group\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">{commonConstants.RATE_SIGN}</span>\n                </div>\n                <components.Control\n                  className={\"form-control\" + (submitted && !order.value.rate ? ' is-invalid' : '')} {...props} />\n                {submitted && !order.value.rate && <div className=\"text-danger invalid-feedback\">Rate is required</div>}\n              </div>\n            </div>\n          ) }}\n        />\n\n        {!order.key.id && <div>\n          <Switch\n            name=\"type\"\n            onChange={this.changeType}\n            checkedChildren={'Lend'}\n            unCheckedChildren={'Borrow'}\n          />\n        </div>}\n      </form>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {order} = state;\n\n  return {\n    order\n  }\n}\n\nconst connected = connect(mapStateToProps)(AddOrder);\nexport {connected as AddOrder};","// @flow\nimport React from 'react';\nimport {connect} from 'react-redux';\nimport {ComposedChart, ResponsiveContainer, Line, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend} from 'recharts';\n\nimport type {Deal} from '../_types';\nimport {formatter} from '../_helpers';\nimport {commonConstants, DEFAULT_RATES} from '../_constants';\n\ntype Props = {\n  deals: {items: Deal[]},\n  lineType: string,\n  formatXAxis: Function\n};\ntype State = {\n};\n\nclass LineBarAreaComposedChart extends React.Component<Props, State> {\n  render () {\n    const {deals, formatXAxis = formatter.time, lineType = 'liner'} = this.props;\n\n    if (!deals || !deals.items) {\n      return null;\n    }\n\n    const data = deals.items.map((r: Deal) => {\n        return {\n          ...r,\n          ts: formatXAxis(new Date(r.value.timestamp * 1000))\n        };\n      })\n      .sort((a, b) => {\n        return a.value.timestamp > b.value.timestamp ? 1 : -1;\n      });\n\n    return !!data.length && (\n      <ResponsiveContainer width=\"100%\" height={300}>\n        <ComposedChart data={data}\n                       margin={{top: 20, right: 20, bottom: 20, left: 20}}>\n          <CartesianGrid stroke='#f5f5f5'/>\n          <XAxis dataKey=\"value.ts\" name=\"Time\"/>\n          <YAxis yAxisId=\"left\" tickFormatter={formatter.rate} unit={commonConstants.RATE_SIGN} interval={0} ticks={DEFAULT_RATES} />\n          <YAxis yAxisId=\"right\" tickFormatter={formatter.number} orientation=\"right\" unit={commonConstants.CURRENCY_SIGN}/>\n          <Tooltip />\n          <Legend />\n          <Bar yAxisId=\"right\" dataKey='value.amount' name=\"Amount\" barSize={20} fill='#413ea0' unit={commonConstants.CURRENCY_SIGN} />\n          <Line yAxisId=\"left\" dataKey='value.rate' name=\"Rate\" type={lineType} stroke='#ff7300' unit={commonConstants.RATE_SIGN} />\n        </ComposedChart>\n      </ResponsiveContainer>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {deals} = state;\n  return {\n    deals\n  };\n}\n\nconst connected = connect(mapStateToProps)(LineBarAreaComposedChart);\nexport {connected as Chart};\n","// @flow\nimport React from 'react';\nimport ReactTable from 'react-table';\nimport {connect} from 'react-redux';\n\nimport type {Deal} from '../_types';\nimport {dealActions} from '../_actions';\nimport {formatter} from '../_helpers';\nimport {commonConstants} from '../_constants';\n\ntype Props = {\n  dispatch: Function,\n  deals: { items: Deal[] },\n  columns: any[],\n  refreshData: Function\n};\ntype State = {};\n\nconst DEFAULT_COLUMNS = [{\n  Header: 'Lender',\n  id: 'value.lender',\n  accessor: (rec: Deal) => formatter.org(rec.value.lender)\n}, {\n  Header: 'Borrower',\n  id: 'value.borrower',\n  accessor: (rec: Deal) => formatter.org(rec.value.borrower)\n}, {\n  Header: 'Amount, ' + commonConstants.CURRENCY_SIGN,\n  id: 'value.amount',\n  accessor: (rec: Deal) => formatter.number(rec.value.amount)\n}, {\n  Header: 'Rate, ' + commonConstants.RATE_SIGN,\n  id: 'value.rate',\n  accessor: (rec: Deal) => formatter.rate(rec.value.rate)\n}, {\n  Header: 'Date',\n  id: 'value.timestamp',\n  accessor: (rec: Deal) => formatter.time(new Date(rec.value.timestamp * 1000))\n}];\n\nclass DealsTable extends React.Component<Props, State> {\n  refreshData: Function;\n\n  constructor(props) {\n    super(props);\n\n    const {refreshData} = this.props;\n\n    (this: any).refreshData = refreshData ? refreshData.bind(this) : this.refreshDataDefault;\n  }\n\n  componentDidMount() {\n    this.refreshData();\n  }\n\n  refreshDataDefault() {\n    this.props.dispatch(dealActions.getAll());\n  }\n\n  render() {\n    const {deals, columns} = this.props;\n\n    if (!deals || !deals.items) {\n      return null;\n    }\n\n    return (\n      <ReactTable\n        columns={columns || DEFAULT_COLUMNS}\n        data={deals.items || []}\n        className=\"-striped -highlight\"\n        defaultPageSize={10}\n        minWidth={60}\n        filterable={true}\n        defaultSorted={[\n          {\n            id: \"value.timestamp\",\n            desc: true\n          }\n        ]}\n      />\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {deals} = state;\n  return {\n    deals\n  };\n}\n\nconst connected = connect(mapStateToProps)(DealsTable);\nexport {connected as DealsTable};\n","// @flow\nimport React from 'react';\nimport ReactTable from 'react-table';\n\ntype Props = {\n  children: any[],\n  initData: any[],\n  loadData: Function\n};\ntype State = {\n};\n\nexport class HistoryTable extends React.Component<Props, State> {\n  componentDidMount() {\n    this.props.loadData(this.props.initData);\n  }\n\n  render() {\n    const {children, ...rest} = this.props;\n\n    return (\n      <ReactTable\n        className=\"-striped -highlight\"\n        defaultPageSize={10}\n        filterable={true}\n        {...rest}\n      />\n    );\n  }\n}","// @flow\nimport React from 'react';\nimport {connect} from 'react-redux';\nimport ReactModal from 'react-modal';\nimport {modalActions} from '../_actions/modal.actions';\n\nconst customStyles = {\n  content: {\n    width: '100%',\n    height: '100%',\n    top: '0',\n    left: '0',\n    cursor: 'default',\n    'background-color': 'rgba(255, 255, 255, 0.1)'\n  },\n  overlay: {\n    'z-index': '20'\n  }\n};\n\ntype Props = {\n  dispatch: Function,\n  modalId: string,\n  title: string,\n  large: boolean,\n  modals: {}, //TODO\n  children: any[],\n  footer: boolean,\n  submitText: string\n};\ntype State = {\n};\n\nclass Modal extends React.Component<Props, State> {\n  handleSubmit: (e: SyntheticEvent<HTMLButtonElement>) => {};\n  constructor(props) {\n    super(props);\n    (this:any).handleCloseModal = this.handleCloseModal.bind(this);\n    (this:any).setSubmitFn = this.setSubmitFn.bind(this);\n  }\n\n  componentDidMount() {\n    const {modalId, dispatch} = this.props;\n    dispatch(modalActions.register(modalId));\n  }\n\n  static open(dispatch: Function, modalId: string, data: any) {\n    dispatch(modalActions.show(modalId, data));\n  }\n\n  setSubmitFn(fn: Function) {\n    this.handleSubmit = fn;\n  }\n\n  handleCloseModal () {\n    const {modalId, dispatch} = this.props;\n    dispatch(modalActions.hide(modalId));\n  }\n\n  render() {\n    const {modalId, modals, children, footer = true, submitText = 'Save'} = this.props;\n    const modalProps = modals[modalId];\n    if (!(modalProps && modalProps.show)) {\n      return null;\n    }\n    modalProps.modalId = modalId;\n    return (\n      <ReactModal\n        isOpen={modalProps.show}\n        style={customStyles}\n      >\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" style={{display: 'block'}}>\n          <div className={(this.props.large ? 'modal-lg' : '') + ' modal-dialog'} role=\"document\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <h5 className=\"modal-title\">{this.props.title}</h5>\n                <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={this.handleCloseModal}>\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div className=\"modal-body\">\n                <div className=\"col\">\n                  {React.Children.map(children,\n                    child => {\n                      return React.cloneElement(child,\n                        {\n                          setSubmitFn: this.setSubmitFn,\n                          data: modalProps.data,\n                          initData: modalProps.object,\n                          modal: modalProps,\n                          ...this.props\n                        });\n                    })}\n                </div>\n              </div>\n              {footer && <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-primary\"\n                        onClick={(e)=>{this.handleSubmit(e)}}>{submitText}</button>\n                <button type=\"button\" className=\"btn btn-secondary\"\n                        onClick={this.handleCloseModal}>Close</button>\n              </div>}\n            </div>\n          </div>\n        </div>\n\n      </ReactModal>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {modals} = state;\n  return {\n    modals\n  };\n}\n\nconst connected = connect(mapStateToProps)(Modal);\nexport {connected as Modal};","// @flow\nimport React from 'react';\nimport {connect} from 'react-redux';\nimport './Notification.css';\nimport {alertActions} from '../_actions';\n\ntype Alert = {\n  type: string,\n  message: string\n}\ntype Props = {\n  dispatch: Function,\n  alert: Alert\n};\ntype State = {\n};\nclass Notification extends React.Component<Props, State> {\n  constructor(props) {\n    super(props);\n\n    (this:any).cancel = this.cancel.bind(this);\n  }\n  render() {\n    const {alert} = this.props;\n    return (\n      <div className={'notification ' + (alert.message ? 'fadein': 'fadeout invisible')}>\n        {alert.message &&\n        <div className={`d-flex justify-content-between align-items-between  alert ${alert.type || ''}`}>\n          <span>{alert.message}</span>\n          <span aria-hidden=\"true\" onClick={this.cancel} className=\"close-btn\">&times;</span>\n        </div>}\n      </div>\n    );\n  }\n\n  cancel() {\n    this.props.dispatch(alertActions.clear());\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {alert} = state;\n  return {\n    alert\n  };\n}\n\nconst connected = connect(mapStateToProps)(Notification);\nexport {connected as Notification};\n","// @flow\nimport React from 'react';\nimport ReactTable from 'react-table';\nimport {connect} from 'react-redux';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHandshake, faPen, faTimes } from '@fortawesome/free-solid-svg-icons';\n\nimport type {Order, User} from '../_types';\nimport {orderActions} from '../_actions';\nimport {modalIds} from '../_constants';\nimport {Modal} from '../_components';\nimport {formatter} from '../_helpers';\nimport {commonConstants} from '../_constants/common.constants';\n\ntype Props = {\n  dispatch: Function,\n  orders: {items: Order[]},\n  user: User\n};\ntype State = {\n};\n\nclass OrdersTable extends React.Component<Props, State> {\n  constructor() {\n    super();\n\n    (this:any).refreshData = this.refreshData.bind(this);\n    (this:any).makeDeal = this.makeDeal.bind(this);\n    (this:any).cancelBid = this.cancelBid.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshData();\n  }\n\n  refreshData() {\n    this.props.dispatch(orderActions.getAll());\n  }\n\n  render() {\n    const {orders, user} = this.props;\n\n    if(!orders || !orders.items) {\n      return null;\n    }\n    //TODO use apporpriate API\n    orders.items = orders.items.filter(i => i.value.status === 0);\n\n    const columns = [{\n      Header: 'Lender',\n      id: 'lender',\n      accessor: (rec: Order) => rec.value.type === 0 ? formatter.org(rec.value.creator) : ''\n    }, {\n      Header: 'Amount Lend, ' + commonConstants.CURRENCY_SIGN,\n      id: 'amount.lend',\n      className: 'text-danger',\n      accessor: (rec: Order) => rec.value.type === 0 ? formatter.number(rec.value.amount) : ''\n    }, {\n      Header: 'Rate, ' + commonConstants.RATE_SIGN,\n      id: 'value.rate',\n      accessor: (rec: Order) => formatter.rate(rec.value.rate),\n      sortMethod: (a: number, b: number) => {\n        return a && b && parseFloat(a) > parseFloat(b) ? 1 : -1;\n      }\n    }, {\n      Header: 'Amount Borrow, ' + commonConstants.CURRENCY_SIGN,\n      id: 'amount.borrow',\n      className: 'text-success',\n      accessor: (rec: Order) => rec.value.type === 1 ? formatter.number(rec.value.amount) : ''\n    },{\n      Header: 'Borrower',\n      id: 'borrower',\n      accessor: (rec: Order) => rec.value.type === 1 ? formatter.org(rec.value.creator) : ''\n    },  {\n      id: 'actions',\n      Header: 'Actions',\n      accessor: 'key.id',\n      filterable: false,\n      Cell: row => {\n        const record: Order = row.original;\n        return (\n          <div>\n            {(record.value.status === 0 && record.value.creator !== user.org) &&\n              (<button className=\"btn btn-sm btn-success\" title=\"Make deal\"\n                       onClick={()=>{this.makeDeal(row.original)}}>\n                <FontAwesomeIcon fixedWidth icon={faHandshake}/>\n              </button>)\n            }\n            {(record.value.status === 0 && record.value.creator === user.org) &&\n            (<button className=\"btn btn-sm btn-primary\"  title=\"Edit\"\n                     onClick={()=>Modal.open(this.props.dispatch, modalIds.editOrder, record)}>\n              <FontAwesomeIcon fixedWidth icon={faPen}/>\n            </button>)\n            }\n            {(record.value.status === 0 && record.value.creator === user.org) &&\n              (<button className=\"btn btn-sm btn-danger\"  title=\"Cancel\"\n                       onClick={()=>{this.cancelBid(row.original)}}>\n                <FontAwesomeIcon fixedWidth icon={faTimes}/>\n              </button>)\n            }\n          </div>\n        )\n      }\n    }];\n\n    return (\n      <ReactTable\n        columns={columns}\n        data={orders.items || []}\n        className=\"-striped -highlight\"\n        defaultPageSize={10}\n        minWidth={60}\n        filterable={true}\n        getTrProps={(state, rowInfo: {original: Order}) => {\n          return {\n            style: {\n              'font-weight': rowInfo && rowInfo.original.value.creator !== user.org ? \"normal\" : \"bold\"\n            }\n          };\n        }}\n        defaultSorted={[\n          {\n            id: \"value.rate\",\n            desc: true\n          }\n        ]}/>\n    );\n  }\n\n  makeDeal(record: Order) {\n    this.props.dispatch(orderActions.accept(record));\n  }\n\n  cancelBid(record: Order) {\n    this.props.dispatch(orderActions.cancel(record));\n  }\n\n  editBid(record: Order) {\n    this.props.dispatch(orderActions.edit(record));\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {orders, authentication} = state;\n  const {user} = authentication;\n  return {\n    orders,\n    user\n  };\n}\n\nconst connected = connect(mapStateToProps)(OrdersTable);\nexport {connected as OrdersTable};\n","import React from 'react';\n\nclass CheckBox extends React.Component {\n  render() {\n    const {id, label, checked, onChange} = this.props;\n\n    return (\n      <div className=\"form-check\">\n        <input className=\"form-check-input\" type=\"checkbox\" checked={checked} id={id} onChange={onChange}/>\n        <label className=\"form-check-label\" htmlFor={id}>\n          {label}\n        </label>\n      </div>\n    );\n  }\n}\n\nexport default CheckBox;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport moment from 'moment';\nimport DatePicker from 'react-datepicker';\nimport CheckBox from './secondary/CheckBox';\nimport 'react-datepicker/dist/react-datepicker.css';\n\nconst components = {\n  DatePicker,\n  CheckBox\n};\n\n/*\nitems property example:\n\nconst itemsFilterContainer = [\n  {\n    type: \"DatePicker\",\n    label: \"From\",\n    state: {nameProp: \"selected\", name: parametersMap.from, value: moment()},\n    defaultValue: '0',\n    properties: {\n      isClearable: \"true\",\n      autoComplete: \"off\"\n    }\n  },\n  {\n    type: \"DatePicker\",\n    label: \"To\",\n    state: {nameProp: \"selected\", name: parametersMap.to, value: moment()},\n    defaultValue: '0',\n    properties: {\n      isClearable: \"true\",\n      autoComplete: \"off\"\n    }\n  },\n  {\n    type: \"CheckBox\",\n    label: \"\",\n    state: {nameProp: \"checked\", name: parametersMap.creator, value: false},\n    defaultValue: false,\n    properties: {\n      label: \"Only my Deals\"\n    }\n  }\n];\n */\nclass FilterContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    const {items, handleSubmit, setParams} = this.props;\n\n    this.items = items || [];\n\n    let filterStates = {};\n\n    this.instruments = this.items.map(\n      element => {\n        if (typeof components[element.type] !== \"undefined\") {\n          filterStates[element.state.name] = element.state.value;\n          return components[element.type]\n        } else {\n          throw new Error(`There is no such Component ${element.type}`);\n        }\n      }\n    );\n    this.state = {filterStates};\n\n    this.handleSubmit = handleSubmit.bind(this);\n    this.setParams = setParams.bind(this);\n\n    this.setParams(this.prepareFilterStates(filterStates));\n  }\n\n  handleChange(state, value) {\n    value = (value && typeof value !== \"undefined\") ? (typeof value.target !== \"undefined\" ? (value.target.type === 'checkbox' ? value.target.checked : value) : value) : value;\n\n    this.setState(prevState => ({\n      filterStates: {\n        ...prevState.filterStates,\n        [state]: value\n      }\n    }));\n    let filterStates = this.state.filterStates;\n    filterStates = {...filterStates, [state]: value};\n    this.setParams(this.prepareFilterStates(filterStates));\n  }\n\n  prepareFilterStates(filterStates) {\n    let parameters = {};\n    this.items.map(\n      element => {\n        return parameters[element.state.name] = moment.isMoment(filterStates[element.state.name]) ? filterStates[element.state.name].format('X') : filterStates[element.state.name] === null ? element.defaultValue : filterStates[element.state.name];\n      }\n    );\n    return parameters;\n  }\n\n  prepareSubmit(event) {\n    let parameters = this.prepareFilterStates(this.state.filterStates)\n    this.handleSubmit(parameters, event);\n  }\n\n  render() {\n    if (this.items.length === 0) {\n      return null;\n    }\n\n    return (\n      <form onSubmit={this.prepareSubmit.bind(this)}>\n        {this.instruments.map((Instrument, index) => {\n          let proporties = this.items[index].properties;\n          proporties[this.items[index].state.nameProp] = this.state.filterStates[this.items[index].state.name];\n\n          return (\n            <div className=\"form-group row\">\n              <label htmlFor={\"input\" + index}\n                     className=\"col-sm-2 col-form-label\">{this.items[index].label}</label>\n              <div className=\"col-sm-10\">\n                <Instrument\n                  id={\"input\" + index}\n                  onChange={this.handleChange.bind(this, this.items[index].state.name)}\n                  {...proporties}\n                />\n              </div>\n            </div>\n          );\n        })}\n        <div className=\"form-group row\">\n          <div className=\"col-sm-10\">\n            <button type=\"submit\" className=\"btn btn-primary\">Apply</button>\n          </div>\n        </div>\n      </form>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {deals} = state;\n  return {\n    deals\n  };\n}\n\nconst connected = connect(mapStateToProps)(FilterContainer);\nexport {connected as FilterContainer};\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {Notification} from '../_components';\n\nclass Main extends React.Component {\n  render() {\n    const { route } = this.props;\n    const Component = this.props.component;\n    return (\n      <div className=\"jumbotron\">\n        <div className=\"container-fluid\">\n          <Notification/>\n          <Component route={route}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {alert} = state;\n  return {\n    alert\n  };\n}\n\nconst connected = connect(mapStateToProps)(Main);\nexport {connected as Main};","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {AddOrder, Chart, OrdersTable, DealsTable, Modal} from '../_components';\nimport {orderActions, dealActions, modalActions} from '../_actions';\nimport {modalIds} from '../_constants';\nimport {NavLink} from 'react-router-dom';\nimport {socketService} from '../_services';\n\nclass HomePage extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    socketService.subscribe(() => this.refreshData());\n  }\n\n  componentDidUpdate(prevProps) {\n    const {orders, dispatch} = this.props;\n\n    if (orders.adding === false) {\n      this.refreshData();\n      dispatch(modalActions.hide(modalIds.addOrder));\n      dispatch(modalActions.hide(modalIds.editOrder));\n    }\n  }\n\n  refreshData(shadowMode) {\n    this.props.dispatch(dealActions.getAll(shadowMode));\n    this.props.dispatch(orderActions.getAll(shadowMode));\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"row justify-content-between\">\n          <button className=\"btn btn-primary mb-2\" onClick={()=>Modal.open(this.props.dispatch, modalIds.addOrder)}>\n            Place Order\n          </button>\n          <NavLink to='/deals' className=\"btn btn-primary mb-2\">\n            Deals Details\n          </NavLink>\n        </div>\n        <Modal modalId={modalIds.addOrder} title=\"Place Order\">\n          <AddOrder/>\n        </Modal>\n        <Modal modalId={modalIds.editOrder} title=\"Edit Order\">\n          <AddOrder/>\n        </Modal>\n        <div className=\"row\">\n          <div className=\"col-6\">\n            <OrdersTable/>\n          </div>\n          <div className=\"col-6\">\n            <DealsTable/>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <Chart lineType=\"liner\"/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {orders, deals, authentication, modals} = state;\n  const {user} = authentication;\n  return {\n    orders,\n    user,\n    deals,\n    modals\n  };\n}\n\nconst connected = connect(mapStateToProps)(HomePage);\nexport {connected as HomePage};\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {userActions} from '../_actions/index';\nimport {configService} from '../_services/index';\n\nclass LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // reset login status\n    this.props.dispatch(userActions.logout());\n\n    this.state = {\n      username: '',\n      orgName: '',\n      submitted: false\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    const {name, value} = e.target;\n    this.setState({[name]: value, submitted: false});\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n\n    this.setState({submitted: true, orgName: configService.get().org}, () => {\n      const {username, orgName} = this.state;\n      const {dispatch} = this.props;\n      if (username) {\n        dispatch(userActions.login(username, orgName));\n      }\n    });\n  }\n\n  render() {\n    const {username, submitted} = this.state;\n    return (\n      <div className=\"col-md-6 offset-md-3\">\n        <h2>Login</h2>\n        <form name=\"form\" onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">Username</label>\n            <input type=\"text\" className={'form-control ' + (submitted && !username && 'is-invalid')} name=\"username\" value={username} onChange={this.handleChange}/>\n            {submitted && !username &&\n            <div className=\"text-danger\">Username is required</div>\n            }\n          </div>\n          <div className=\"form-group\">\n            <button className=\"btn btn-primary\">Login</button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps() {\n}\n\nconst connected = connect(mapStateToProps)(LoginPage);\nexport {connected as LoginPage};","import React from 'react';\nimport ReactTable from 'react-table';\nimport {connect} from 'react-redux';\nimport {dealActions} from '../_actions';\nimport {formatter} from '../_helpers';\nimport {commonConstants} from '../_constants';\nimport {socketService} from '../_services';\n\n\nclass SummaryPage extends React.Component {\n  constructor() {\n    super();\n\n    this.refreshData = this.refreshData.bind(this);\n    socketService.subscribe(() => this.refreshData());\n  }\n\n  componentDidMount() {\n    this.refreshData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const {deals} = this.props;\n\n    if (deals.adding === false) {\n      this.refreshData();\n    }\n  }\n\n  refreshData() {\n    this.props.dispatch(dealActions.getAll());\n  }\n\n  render() {\n    const {deals, user} = this.props;\n\n    if (!deals || !deals.items) {\n      return null;\n    }\n\n    const data = deals.items.filter(d => d.value.borrower === user.org || d.value.lender === user.org);\n\n    const closingBalance = data.reduce((acc, rec) => {\n      const val = rec.value.amount;\n      return acc + (rec.value.lender === user.org ? -val : val)\n    }, 0);\n\n    const netted = data.reduce((acc, rec) => {\n      const val = (rec.value.amount/365*rec.value.rate);\n      return acc + (rec.value.lender === user.org ? val : -val)\n    }, 0);\n\n    const clearingColumns = [{\n      Header: 'Cash out, ' + commonConstants.CURRENCY_SIGN,\n      id: 'cashOut',\n      className: 'text-danger',\n      accessor: rec => rec.value.lender === user.org ? formatter.number(rec.value.amount) : '',\n      Footer: (\n        formatter.number(data.reduce((acc, rec) => acc + (rec.value.lender === user.org ? rec.value.amount : 0), 0))\n      )\n    }, {\n      Header: 'Cash in, ' + commonConstants.CURRENCY_SIGN,\n      id: 'cashIn',\n      className: 'text-success',\n      accessor: rec => rec.value.borrower === user.org ? formatter.number(rec.value.amount) : '',\n      Footer: (\n        formatter.number(data.reduce((acc, rec) => acc + (rec.value.borrower === user.org ? rec.value.amount : 0), 0))\n      )\n    }, {\n      Header: 'Counterparty',\n      id: 'counterParty',\n      accessor: rec => formatter.org(rec.value.borrower === user.org ? rec.value.lender : rec.value.borrower)\n    }, {\n      Header: commonConstants.CURRENCY_SIGN,\n      id: 'total',\n      accessor: rec => {\n        const withBraces = rec.value.borrower === user.org;\n        return `${withBraces ? '(' : ''}${formatter.number(rec.value.amount)}${withBraces ? ')' : ''}`;\n      },\n      Footer: (\n        formatter.number(closingBalance)\n      )\n    }];\n\n    const interestColumns = [{\n      Header: 'Receivable, ' + commonConstants.CURRENCY_SIGN,\n      id: 'cashOut',\n      accessor: rec => rec.value.lender === user.org ? formatter.number(rec.value.amount/365*rec.value.rate) : '',\n      Footer: (\n        formatter.number(data.reduce((acc, rec) => acc + (rec.value.lender === user.org ? (rec.value.amount/365*rec.value.rate) : 0), 0))\n      )\n    }, {\n      Header: 'Payable, ' + commonConstants.CURRENCY_SIGN,\n      id: 'cashIn',\n      accessor: rec => rec.value.borrower === user.org ? formatter.number(rec.value.amount/365*rec.value.rate) : '',\n      Footer: (\n        formatter.number(data.reduce((acc, rec) => acc + (rec.value.borrower === user.org ? (rec.value.amount/365*rec.value.rate) : 0), 0))\n      )\n    }, {\n      Header: 'Counterparty',\n      id: 'counterParty',\n      accessor: rec => formatter.org(rec.value.borrower === user.org ? rec.value.lender : rec.value.borrower)\n    }, {\n      Header: 'Value Date',\n      id: 'value.timestamp',\n      accessor: rec => formatter.date(new Date((rec.value.timestamp + 24 * 60 * 60) * 1000))\n    }];\n\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <h3>Aftermarket clearing</h3>\n            {!!data.length && <ReactTable\n              columns={clearingColumns}\n              data={data}\n              className=\"-striped -highlight\"\n              defaultPageSize={deals.items.length + 1}\n              filterable={false}\n              showPagination={false}\n              defaultSorted={[\n                {\n                  id: \"cashOut\",\n                  desc: true\n                }\n              ]}\n            />}\n            <h5 className=\"mt-2\">Closing balance:\n              <span className={closingBalance < 0 ? 'text-danger' : 'text-success'}>\n                {` ${formatter.number(closingBalance)} ${commonConstants.CURRENCY_SIGN}`}\n              </span>\n            </h5>\n          </div>\n\n          <div className=\"col\">\n            <h3>Interest netting</h3>\n            {!!data.length && <ReactTable\n              columns={interestColumns}\n              data={data}\n              className=\"-striped -highlight\"\n              defaultPageSize={deals.items.length + 1}\n              filterable={false}\n              showPagination={false}\n              defaultSorted={[\n                {\n                  id: \"cashOut\",\n                  desc: true\n                }\n              ]}\n            />}\n            <h5 className=\"mt-2\">Netted:\n              <span className={netted < 0 ? 'text-danger' : 'text-success'}>\n                {` ${formatter.number(netted)} ${commonConstants.CURRENCY_SIGN}`}\n              </span>\n            </h5>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {deals, authentication, modals} = state;\n  const {user} = authentication;\n  return {\n    user,\n    deals,\n    modals\n  };\n}\n\nconst connected = connect(mapStateToProps)(SummaryPage);\nexport {connected as SummaryPage};\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {Chart, DealsTable, FilterContainer} from '../_components';\nimport {dealActions} from '../_actions';\nimport {formatter} from '../_helpers';\nimport {commonConstants} from '../_constants';\nimport moment from 'moment';\nimport {socketService} from '../_services';\n\nconst parametersMap = {\n  from: \"fromDate\",\n  to: \"toDate\",\n  creator: \"myDeals\"\n};\n\nconst columns = [{\n  Header: 'Lender',\n  id: 'value.lender',\n  accessor: rec => formatter.org(rec.value.lender)\n}, {\n  Header: 'Borrower',\n  id: 'value.borrower',\n  accessor: rec => formatter.org(rec.value.borrower)\n}, {\n  Header: 'Amount, ' + commonConstants.CURRENCY_SIGN,\n  id: 'value.amount',\n  accessor: rec => formatter.number(rec.value.amount)\n}, {\n  Header: 'Rate, ' + commonConstants.RATE_SIGN,\n  id: 'value.rate',\n  accessor: rec => formatter.rate(rec.value.rate)\n}, {\n  Header: 'Date & Time',\n  id: 'value.timestamp',\n  accessor: rec => formatter.datetime(new Date(rec.value.timestamp * 1000))\n}];\n\nconst itemsFilterContainer = [\n  {\n    type: \"DatePicker\",\n    label: \"From\",\n    state: {nameProp: \"selected\", name: parametersMap.from, value: moment()},\n    defaultValue: '0',\n    properties: {\n      isClearable: \"true\",\n      autoComplete: \"off\"\n    }\n  },\n  {\n    type: \"DatePicker\",\n    label: \"To\",\n    state: {nameProp: \"selected\", name: parametersMap.to, value: moment()},\n    defaultValue: '0',\n    properties: {\n      isClearable: \"true\",\n      autoComplete: \"off\"\n    }\n  },\n  {\n    type: \"CheckBox\",\n    label: \"\",\n    state: {nameProp: \"checked\", name: parametersMap.creator, value: false},\n    defaultValue: false,\n    properties: {\n      label: \"Only my Deals\"\n    }\n  }\n];\n\nclass DealsPage extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    socketService.subscribe(() => this.refreshData());\n  }\n\n  handleSubmit(params, event = null) {\n    event || event.preventDefault();\n\n    const fnName = params[parametersMap.creator] ? 'getForCreatorByPeriod' : 'getByPeriod';\n    this.props.dispatch(dealActions[fnName]([params[parametersMap.from], params[parametersMap.to]]));\n  }\n\n  setParams(params) {\n    this.filterParams = params;\n  }\n\n  refreshData() {\n    if (this.filterParams && this.filterParams[parametersMap.creator] !== 'undefined') {\n      const fnName = this.filterParams[parametersMap.creator] ? 'getForCreatorByPeriod' : 'getByPeriod';\n      this.props.dispatch(dealActions[fnName]([this.filterParams[parametersMap.from], this.filterParams[parametersMap.to]]));\n    } else {\n      this.props.dispatch(dealActions.getAll());\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <FilterContainer items={itemsFilterContainer}\n                             handleSubmit={this.handleSubmit.bind(this)}\n                             setParams={this.setParams.bind(this)}/>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <DealsTable columns={columns} refreshData={this.refreshData.bind(this)}/>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <Chart formatXAxis={formatter.datetime} lineType=\"liner\"/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {deals, authentication} = state;\n  const {user} = authentication;\n  return {\n    user,\n    deals\n  };\n}\n\nconst connected = connect(mapStateToProps)(DealsPage);\nexport {connected as DealsPage};\n","import {HomePage, LoginPage, SummaryPage, DealsPage} from '../_pages';\n\nexport const publicRoutes = [{\n  component: HomePage,\n  path: '/'\n}, {\n  component: LoginPage,\n  path: '/login'\n}, {\n  component: DealsPage,\n  path: '/deals'\n}];\n\nexport const privateRoutes = [{\n  component: SummaryPage,\n  path: '/summary'\n}];\n","import React from 'react';\nimport {Route, Switch, HashRouter} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport {ScaleLoader} from 'react-spinners';\n\nimport {history} from '../_helpers';\nimport {alertActions, configActions} from '../_actions';\nimport {Footer, Header, Main} from '../Layout';\nimport {publicRoutes, privateRoutes} from './routes';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const {dispatch} = this.props;\n    history.listen((location, action) => {\n      // clear alert on location change\n      dispatch(alertActions.clear());\n    });\n    dispatch(configActions.get());\n  }\n\n  render() {\n    const {config, loading} = this.props;\n    if (!config) {\n      return null;\n    }\n\n    return (\n      <HashRouter>\n        <Switch>\n          {publicRoutes.concat(privateRoutes).map((route, key) => {\n            const {component, path} = route;\n            return (\n              <Route\n                exact\n                path={path}\n                key={key}\n                render={(route) =>\n                  <div>\n                    <Header route={route}/>\n                    <div className={'overlay d-flex justify-content-center align-items-center ' + (!!loading ? 'visible' : 'invisible')}>\n                      <ScaleLoader loading={!!loading} />\n                    </div>\n                    <Main component={component} route={route} config={config}/>\n                    <Footer/>\n                  </div>}\n              />\n            )\n          })}\n        </Switch>\n      </HashRouter>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {config, loading} = state;\n  return {\n    config,\n    loading\n  };\n}\n\nconst connectedApp = connect(mapStateToProps)(App);\nexport {connectedApp as App};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './static/bootstrap.min.css';\nimport '../node_modules/rc-switch/assets/index.css';\nimport '../node_modules/react-table/react-table.css';\nimport {App} from './App';\n//import registerServiceWorker from './registerServiceWorker';\nimport {Provider} from 'react-redux';\n\nimport {store} from './_helpers';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App/>\n  </Provider>,\n  document.getElementById('app'));\n// registerServiceWorker();\n"],"sourceRoot":""}